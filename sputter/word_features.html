<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>sputter.word_features API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../sputter.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;sputter</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#logger">logger</a>
            </li>
            <li>
                    <a class="variable" href="#ALPHABET">ALPHABET</a>
            </li>
            <li>
                    <a class="variable" href="#VOWELS">VOWELS</a>
            </li>
            <li>
                    <a class="variable" href="#CONSONANTS">CONSONANTS</a>
            </li>
            <li>
                    <a class="variable" href="#CARDINAL_DIRECTIONS">CARDINAL_DIRECTIONS</a>
            </li>
            <li>
                    <a class="variable" href="#CHEMICAL_ELEMENT_SYMBOLS">CHEMICAL_ELEMENT_SYMBOLS</a>
            </li>
            <li>
                    <a class="variable" href="#STATE_ABBREVIATIONS">STATE_ABBREVIATIONS</a>
            </li>
            <li>
                    <a class="class" href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WordFeaturePrecomputes.__init__">WordFeaturePrecomputes</a>
                        </li>
                        <li>
                                <a class="variable" href="#WordFeaturePrecomputes.word_letter_counts">word_letter_counts</a>
                        </li>
                        <li>
                                <a class="variable" href="#WordFeaturePrecomputes.letter_bank">letter_bank</a>
                        </li>
                        <li>
                                <a class="function" href="#WordFeaturePrecomputes.get_letter_count">get_letter_count</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#WordFeature">WordFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WordFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#LetterCountFeature">LetterCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#LetterCountFeature.__init__">LetterCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#LetterCountFeature.letter">letter</a>
                        </li>
                        <li>
                                <a class="variable" href="#LetterCountFeature.min_count">min_count</a>
                        </li>
                        <li>
                                <a class="function" href="#LetterCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#RepeatedLetterFeature">RepeatedLetterFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#RepeatedLetterFeature.__init__">RepeatedLetterFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#RepeatedLetterFeature.min_letter_count">min_letter_count</a>
                        </li>
                        <li>
                                <a class="variable" href="#RepeatedLetterFeature.min_repeat_count">min_repeat_count</a>
                        </li>
                        <li>
                                <a class="function" href="#RepeatedLetterFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UniqueLetterCountFeature">UniqueLetterCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UniqueLetterCountFeature.__init__">UniqueLetterCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#UniqueLetterCountFeature.count">count</a>
                        </li>
                        <li>
                                <a class="function" href="#UniqueLetterCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UniqueVowelCountFeature">UniqueVowelCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UniqueVowelCountFeature.__init__">UniqueVowelCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#UniqueVowelCountFeature.count">count</a>
                        </li>
                        <li>
                                <a class="function" href="#UniqueVowelCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#UniqueConsonantCountFeature">UniqueConsonantCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#UniqueConsonantCountFeature.__init__">UniqueConsonantCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#UniqueConsonantCountFeature.count">count</a>
                        </li>
                        <li>
                                <a class="function" href="#UniqueConsonantCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AlternatesVowelConsonantFeature">AlternatesVowelConsonantFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AlternatesVowelConsonantFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DoubleLettersFeature">DoubleLettersFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DoubleLettersFeature.__init__">DoubleLettersFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#DoubleLettersFeature.count">count</a>
                        </li>
                        <li>
                                <a class="function" href="#DoubleLettersFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CardinalDirectionsCountFeature">CardinalDirectionsCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#CardinalDirectionsCountFeature.__init__">CardinalDirectionsCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#CardinalDirectionsCountFeature.min_count">min_count</a>
                        </li>
                        <li>
                                <a class="function" href="#CardinalDirectionsCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ChemicalElementSymbolCountFeature">ChemicalElementSymbolCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ChemicalElementSymbolCountFeature.__init__">ChemicalElementSymbolCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#ChemicalElementSymbolCountFeature.min_count">min_count</a>
                        </li>
                        <li>
                                <a class="function" href="#ChemicalElementSymbolCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#StateAbbreviationCountFeature">StateAbbreviationCountFeature</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#StateAbbreviationCountFeature.__init__">StateAbbreviationCountFeature</a>
                        </li>
                        <li>
                                <a class="variable" href="#StateAbbreviationCountFeature.min_count">min_count</a>
                        </li>
                        <li>
                                <a class="function" href="#StateAbbreviationCountFeature.evaluate">evaluate</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#ALL_FEATURES">ALL_FEATURES</a>
            </li>
            <li>
                    <a class="class" href="#WordFeatureResult">WordFeatureResult</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WordFeatureResult.__init__">WordFeatureResult</a>
                        </li>
                        <li>
                                <a class="variable" href="#WordFeatureResult.feature">feature</a>
                        </li>
                        <li>
                                <a class="variable" href="#WordFeatureResult.words">words</a>
                        </li>
                        <li>
                                <a class="variable" href="#WordFeatureResult.log_prob">log_prob</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#WordFeatureStatistics">WordFeatureStatistics</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#WordFeatureStatistics.__init__">WordFeatureStatistics</a>
                        </li>
                        <li>
                                <a class="function" href="#WordFeatureStatistics.evaluate_words">evaluate_words</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../sputter.html">sputter</a><wbr>.word_features    </h1>

                        <div class="docstring"><p>A module for detecting interesting features of words.</p>

<p>Inspired by <a href="https://github.com/rdeits/Collective.jl">https://github.com/rdeits/Collective.jl</a>.</p>
</div>

                        <input id="mod-word_features-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-word_features-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="sd">&quot;&quot;&quot;A module for detecting interesting features of words.</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="sd">Inspired by https://github.com/rdeits/Collective.jl.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">Counter</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">dataclasses</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataclass</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">os.path</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="kn">import</span><span class="w"> </span><span class="nn">platformdirs</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Set</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">sputter.fitness</span><span class="w"> </span><span class="kn">import</span> <span class="n">WordStatistics</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="n">ALPHABET</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="p">)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="n">VOWELS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;AEIOU&quot;</span><span class="p">)</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="n">CONSONANTS</span> <span class="o">=</span> <span class="n">ALPHABET</span> <span class="o">-</span> <span class="n">VOWELS</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="n">CARDINAL_DIRECTIONS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;NESW&quot;</span><span class="p">)</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="n">CHEMICAL_ELEMENT_SYMBOLS</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>    <span class="s2">&quot;H&quot;</span><span class="p">,</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>    <span class="s2">&quot;HE&quot;</span><span class="p">,</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a>    <span class="s2">&quot;LI&quot;</span><span class="p">,</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>    <span class="s2">&quot;BE&quot;</span><span class="p">,</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>    <span class="s2">&quot;B&quot;</span><span class="p">,</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>    <span class="s2">&quot;C&quot;</span><span class="p">,</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>    <span class="s2">&quot;N&quot;</span><span class="p">,</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>    <span class="s2">&quot;O&quot;</span><span class="p">,</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>    <span class="s2">&quot;F&quot;</span><span class="p">,</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>    <span class="s2">&quot;NE&quot;</span><span class="p">,</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>    <span class="s2">&quot;NA&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>    <span class="s2">&quot;MG&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>    <span class="s2">&quot;AL&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="s2">&quot;SI&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>    <span class="s2">&quot;P&quot;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>    <span class="s2">&quot;S&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>    <span class="s2">&quot;CL&quot;</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="s2">&quot;AR&quot;</span><span class="p">,</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a>    <span class="s2">&quot;K&quot;</span><span class="p">,</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>    <span class="s2">&quot;CA&quot;</span><span class="p">,</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="s2">&quot;SC&quot;</span><span class="p">,</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>    <span class="s2">&quot;TI&quot;</span><span class="p">,</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a>    <span class="s2">&quot;V&quot;</span><span class="p">,</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>    <span class="s2">&quot;CR&quot;</span><span class="p">,</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="s2">&quot;MN&quot;</span><span class="p">,</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>    <span class="s2">&quot;FE&quot;</span><span class="p">,</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a>    <span class="s2">&quot;CO&quot;</span><span class="p">,</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>    <span class="s2">&quot;NI&quot;</span><span class="p">,</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>    <span class="s2">&quot;CU&quot;</span><span class="p">,</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>    <span class="s2">&quot;ZN&quot;</span><span class="p">,</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="s2">&quot;GA&quot;</span><span class="p">,</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>    <span class="s2">&quot;GE&quot;</span><span class="p">,</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>    <span class="s2">&quot;AS&quot;</span><span class="p">,</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>    <span class="s2">&quot;SE&quot;</span><span class="p">,</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>    <span class="s2">&quot;BR&quot;</span><span class="p">,</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="s2">&quot;KR&quot;</span><span class="p">,</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>    <span class="s2">&quot;RB&quot;</span><span class="p">,</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>    <span class="s2">&quot;SR&quot;</span><span class="p">,</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>    <span class="s2">&quot;Y&quot;</span><span class="p">,</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>    <span class="s2">&quot;ZR&quot;</span><span class="p">,</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="s2">&quot;NB&quot;</span><span class="p">,</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>    <span class="s2">&quot;MO&quot;</span><span class="p">,</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>    <span class="s2">&quot;TC&quot;</span><span class="p">,</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>    <span class="s2">&quot;RU&quot;</span><span class="p">,</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a>    <span class="s2">&quot;RH&quot;</span><span class="p">,</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="s2">&quot;PD&quot;</span><span class="p">,</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>    <span class="s2">&quot;AG&quot;</span><span class="p">,</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>    <span class="s2">&quot;CD&quot;</span><span class="p">,</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a>    <span class="s2">&quot;IN&quot;</span><span class="p">,</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="s2">&quot;SN&quot;</span><span class="p">,</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>    <span class="s2">&quot;SB&quot;</span><span class="p">,</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="s2">&quot;TE&quot;</span><span class="p">,</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>    <span class="s2">&quot;I&quot;</span><span class="p">,</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>    <span class="s2">&quot;XE&quot;</span><span class="p">,</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>    <span class="s2">&quot;CS&quot;</span><span class="p">,</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>    <span class="s2">&quot;BA&quot;</span><span class="p">,</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>    <span class="s2">&quot;LA&quot;</span><span class="p">,</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>    <span class="s2">&quot;CE&quot;</span><span class="p">,</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="s2">&quot;PR&quot;</span><span class="p">,</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>    <span class="s2">&quot;ND&quot;</span><span class="p">,</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="s2">&quot;PM&quot;</span><span class="p">,</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>    <span class="s2">&quot;SM&quot;</span><span class="p">,</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>    <span class="s2">&quot;EU&quot;</span><span class="p">,</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="s2">&quot;GD&quot;</span><span class="p">,</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="s2">&quot;TB&quot;</span><span class="p">,</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>    <span class="s2">&quot;DY&quot;</span><span class="p">,</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>    <span class="s2">&quot;HO&quot;</span><span class="p">,</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="s2">&quot;ER&quot;</span><span class="p">,</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>    <span class="s2">&quot;TM&quot;</span><span class="p">,</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>    <span class="s2">&quot;YB&quot;</span><span class="p">,</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>    <span class="s2">&quot;LU&quot;</span><span class="p">,</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>    <span class="s2">&quot;HF&quot;</span><span class="p">,</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>    <span class="s2">&quot;TA&quot;</span><span class="p">,</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>    <span class="s2">&quot;W&quot;</span><span class="p">,</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>    <span class="s2">&quot;RE&quot;</span><span class="p">,</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>    <span class="s2">&quot;OS&quot;</span><span class="p">,</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a>    <span class="s2">&quot;IR&quot;</span><span class="p">,</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>    <span class="s2">&quot;PT&quot;</span><span class="p">,</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="s2">&quot;AU&quot;</span><span class="p">,</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="s2">&quot;HG&quot;</span><span class="p">,</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="s2">&quot;TL&quot;</span><span class="p">,</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>    <span class="s2">&quot;PB&quot;</span><span class="p">,</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>    <span class="s2">&quot;BI&quot;</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>    <span class="s2">&quot;PO&quot;</span><span class="p">,</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>    <span class="s2">&quot;AT&quot;</span><span class="p">,</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>    <span class="s2">&quot;RN&quot;</span><span class="p">,</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>    <span class="s2">&quot;FR&quot;</span><span class="p">,</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>    <span class="s2">&quot;RA&quot;</span><span class="p">,</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>    <span class="s2">&quot;AC&quot;</span><span class="p">,</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>    <span class="s2">&quot;TH&quot;</span><span class="p">,</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>    <span class="s2">&quot;PA&quot;</span><span class="p">,</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>    <span class="s2">&quot;U&quot;</span><span class="p">,</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>    <span class="s2">&quot;NP&quot;</span><span class="p">,</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>    <span class="s2">&quot;PU&quot;</span><span class="p">,</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>    <span class="s2">&quot;AM&quot;</span><span class="p">,</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>    <span class="s2">&quot;CM&quot;</span><span class="p">,</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a>    <span class="s2">&quot;BK&quot;</span><span class="p">,</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>    <span class="s2">&quot;CF&quot;</span><span class="p">,</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>    <span class="s2">&quot;ES&quot;</span><span class="p">,</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a>    <span class="s2">&quot;FM&quot;</span><span class="p">,</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a>    <span class="s2">&quot;MD&quot;</span><span class="p">,</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a>    <span class="s2">&quot;NO&quot;</span><span class="p">,</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a>    <span class="s2">&quot;LR&quot;</span><span class="p">,</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>    <span class="s2">&quot;RF&quot;</span><span class="p">,</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>    <span class="s2">&quot;DB&quot;</span><span class="p">,</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>    <span class="s2">&quot;SG&quot;</span><span class="p">,</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>    <span class="s2">&quot;BH&quot;</span><span class="p">,</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>    <span class="s2">&quot;HS&quot;</span><span class="p">,</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>    <span class="s2">&quot;MT&quot;</span><span class="p">,</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>    <span class="s2">&quot;DS&quot;</span><span class="p">,</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>    <span class="s2">&quot;RG&quot;</span><span class="p">,</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>    <span class="s2">&quot;CN&quot;</span><span class="p">,</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>    <span class="s2">&quot;NH&quot;</span><span class="p">,</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>    <span class="s2">&quot;FL&quot;</span><span class="p">,</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>    <span class="s2">&quot;MC&quot;</span><span class="p">,</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>    <span class="s2">&quot;LV&quot;</span><span class="p">,</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>    <span class="s2">&quot;TS&quot;</span><span class="p">,</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>    <span class="s2">&quot;OG&quot;</span><span class="p">,</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="p">]</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a><span class="n">STATE_ABBREVIATIONS</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a>    <span class="s2">&quot;AL&quot;</span><span class="p">,</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>    <span class="s2">&quot;AK&quot;</span><span class="p">,</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>    <span class="s2">&quot;AZ&quot;</span><span class="p">,</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>    <span class="s2">&quot;AR&quot;</span><span class="p">,</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a>    <span class="s2">&quot;CA&quot;</span><span class="p">,</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>    <span class="s2">&quot;CO&quot;</span><span class="p">,</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>    <span class="s2">&quot;CT&quot;</span><span class="p">,</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>    <span class="s2">&quot;DE&quot;</span><span class="p">,</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>    <span class="s2">&quot;FL&quot;</span><span class="p">,</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>    <span class="s2">&quot;GA&quot;</span><span class="p">,</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>    <span class="s2">&quot;HI&quot;</span><span class="p">,</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>    <span class="s2">&quot;ID&quot;</span><span class="p">,</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>    <span class="s2">&quot;IL&quot;</span><span class="p">,</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>    <span class="s2">&quot;IN&quot;</span><span class="p">,</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>    <span class="s2">&quot;IA&quot;</span><span class="p">,</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>    <span class="s2">&quot;KS&quot;</span><span class="p">,</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="s2">&quot;KY&quot;</span><span class="p">,</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>    <span class="s2">&quot;LA&quot;</span><span class="p">,</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>    <span class="s2">&quot;ME&quot;</span><span class="p">,</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="s2">&quot;MD&quot;</span><span class="p">,</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>    <span class="s2">&quot;MA&quot;</span><span class="p">,</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a>    <span class="s2">&quot;MI&quot;</span><span class="p">,</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>    <span class="s2">&quot;MN&quot;</span><span class="p">,</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>    <span class="s2">&quot;MS&quot;</span><span class="p">,</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>    <span class="s2">&quot;MO&quot;</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>    <span class="s2">&quot;MT&quot;</span><span class="p">,</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a>    <span class="s2">&quot;NE&quot;</span><span class="p">,</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a>    <span class="s2">&quot;NV&quot;</span><span class="p">,</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>    <span class="s2">&quot;NH&quot;</span><span class="p">,</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>    <span class="s2">&quot;NJ&quot;</span><span class="p">,</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>    <span class="s2">&quot;NM&quot;</span><span class="p">,</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>    <span class="s2">&quot;NY&quot;</span><span class="p">,</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>    <span class="s2">&quot;NC&quot;</span><span class="p">,</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>    <span class="s2">&quot;ND&quot;</span><span class="p">,</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>    <span class="s2">&quot;OH&quot;</span><span class="p">,</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>    <span class="s2">&quot;OK&quot;</span><span class="p">,</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>    <span class="s2">&quot;OR&quot;</span><span class="p">,</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>    <span class="s2">&quot;PA&quot;</span><span class="p">,</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>    <span class="s2">&quot;RI&quot;</span><span class="p">,</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>    <span class="s2">&quot;SC&quot;</span><span class="p">,</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>    <span class="s2">&quot;SD&quot;</span><span class="p">,</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>    <span class="s2">&quot;TN&quot;</span><span class="p">,</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>    <span class="s2">&quot;TX&quot;</span><span class="p">,</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>    <span class="s2">&quot;UT&quot;</span><span class="p">,</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>    <span class="s2">&quot;VT&quot;</span><span class="p">,</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>    <span class="s2">&quot;VA&quot;</span><span class="p">,</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>    <span class="s2">&quot;WA&quot;</span><span class="p">,</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>    <span class="s2">&quot;WV&quot;</span><span class="p">,</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>    <span class="s2">&quot;WI&quot;</span><span class="p">,</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>    <span class="s2">&quot;WY&quot;</span><span class="p">,</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="p">]</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a><span class="nd">@dataclass</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeaturePrecomputes</span><span class="p">:</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Precomputes for word features.&quot;&quot;&quot;</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>    <span class="n">__ORD_A</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>    <span class="n">word_letter_counts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of letter counts in the word, where index 0 is A, 1 is B, etc.&quot;&quot;&quot;</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>    <span class="n">letter_bank</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The set of letters in the word.&quot;&quot;&quot;</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="n">WordFeaturePrecomputes</span><span class="o">.</span><span class="n">__ORD_A</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_letter_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the number of times the letter appears in the word.&quot;&quot;&quot;</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="n">WordFeaturePrecomputes</span><span class="o">.</span><span class="n">__ORD_A</span><span class="p">]</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeature</span><span class="p">:</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A base class for detecting an interesting feature of a word.&quot;&quot;&quot;</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return true iff the word has this feature.&quot;&quot;&quot;</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a><span class="k">class</span><span class="w"> </span><span class="nc">LetterCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of letter occurrences.&quot;&quot;&quot;</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>    <span class="n">letter</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The letter to count. Must be uppercase.&quot;&quot;&quot;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of occurrences of the letter to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="k">return</span> <span class="n">precomputes</span><span class="o">.</span><span class="n">get_letter_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">return</span> <span class="n">word</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> occurrences of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RepeatedLetterFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of repeated letter occurrences.&quot;&quot;&quot;</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>    <span class="n">min_letter_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of letters that must be repeated to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>    <span class="n">min_repeat_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of letter repetitions needed to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>                <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">precomputes</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">)</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>                <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>            <span class="p">)</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>            <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>            <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>        <span class="p">)</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;has at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span><span class="si">}</span><span class="s2"> letters repeated at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span><span class="si">}</span><span class="s2"> times each&quot;</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UniqueLetterCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of unique letter occurrences.&quot;&quot;&quot;</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of unique letters to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">))</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> unique letters&quot;</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UniqueVowelCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of unique vowel occurrences.&quot;&quot;&quot;</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of unique vowels to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">&amp;</span> <span class="n">VOWELS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">VOWELS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> unique vowels&quot;</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UniqueConsonantCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of unique consonant occurrences.&quot;&quot;&quot;</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of unique consonants to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">&amp;</span> <span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> unique consonants&quot;</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AlternatesVowelConsonantFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on alternating vowel and consonant occurrences.&quot;&quot;&quot;</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>        <span class="n">last_was_vowel</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">VOWELS</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">VOWELS</span><span class="p">:</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>                <span class="k">if</span> <span class="n">last_was_vowel</span><span class="p">:</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>                    <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>            <span class="k">elif</span> <span class="ow">not</span> <span class="n">last_was_vowel</span><span class="p">:</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>            <span class="n">last_was_vowel</span> <span class="o">=</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">VOWELS</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>        <span class="k">return</span> <span class="s2">&quot;alternates between vowels and consonants&quot;</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a><span class="k">class</span><span class="w"> </span><span class="nc">DoubleLettersFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of occurrences of double letters.&quot;&quot;&quot;</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of double letters to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>            <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>        <span class="p">)</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> pairs of double letters&quot;</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a><span class="k">class</span><span class="w"> </span><span class="nc">CardinalDirectionsCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of cardinal direction letters.&quot;&quot;&quot;</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of cardinal direction letters to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>                <span class="nb">sum</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">get_letter_count</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CARDINAL_DIRECTIONS</span><span class="p">)</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>                <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>            <span class="p">)</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CARDINAL_DIRECTIONS</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> cardinal directions&quot;</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ChemicalElementSymbolCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of chemical element symbols.&quot;&quot;&quot;</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of chemical element symbols to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a>        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">CHEMICAL_ELEMENT_SYMBOLS</span><span class="p">:</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> chemical element symbols&quot;</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a><span class="k">class</span><span class="w"> </span><span class="nc">StateAbbreviationCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of US state abbreviations.&quot;&quot;&quot;</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of US state abbreviations to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">STATE_ABBREVIATIONS</span><span class="p">:</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a>                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a>        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> US state abbreviations&quot;</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a><span class="n">ALL_FEATURES</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">WordFeature</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>    <span class="n">AlternatesVowelConsonantFeature</span><span class="p">(),</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a><span class="p">]</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>    <span class="p">[</span><span class="n">LetterCountFeature</span><span class="p">(</span><span class="n">letter</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">ALPHABET</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)]</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a><span class="p">)</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>    <span class="p">[</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>        <span class="n">RepeatedLetterFeature</span><span class="p">(</span><span class="n">min_letter_count</span><span class="p">,</span> <span class="n">min_repeat_count</span><span class="p">)</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>        <span class="k">for</span> <span class="n">min_letter_count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>        <span class="k">for</span> <span class="n">min_repeat_count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>    <span class="p">]</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a><span class="p">)</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">UniqueLetterCountFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">27</span><span class="p">)])</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>    <span class="p">[</span><span class="n">UniqueVowelCountFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">VOWELS</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a><span class="p">)</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>    <span class="p">[</span><span class="n">UniqueConsonantCountFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a><span class="p">)</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">DoubleLettersFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)])</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">CardinalDirectionsCountFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">ChemicalElementSymbolCountFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a><span class="n">ALL_FEATURES</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">StateAbbreviationCountFeature</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="k">for</span> <span class="n">count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)])</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a><span class="nd">@dataclass</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeatureResult</span><span class="p">:</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The result of evaluating a word feature on a set of words.&quot;&quot;&quot;</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>    <span class="n">feature</span><span class="p">:</span> <span class="n">WordFeature</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The word feature that was evaluated.&quot;&quot;&quot;</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>    <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The set of words that satisfied this feature.&quot;&quot;&quot;</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>    <span class="n">log_prob</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The log probability of the feature evaluating true for the set of words.&quot;&quot;&quot;</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeatureStatistics</span><span class="p">:</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for computing statistics about word features.&quot;&quot;&quot;</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ws</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordStatistics</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a set of word feature statistics based on word frequencies.</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a><span class="sd">        :param ws: The WordStatistics to use. If None, a new WordStatistics will be</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a><span class="sd">            created.</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span> <span class="o">=</span> <span class="n">ws</span> <span class="ow">or</span> <span class="n">WordStatistics</span><span class="p">()</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>        <span class="n">feature_log_prob_json_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>            <span class="n">platformdirs</span><span class="o">.</span><span class="n">user_cache_dir</span><span class="p">(</span><span class="n">appname</span><span class="o">=</span><span class="s2">&quot;sputter&quot;</span><span class="p">),</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>            <span class="s2">&quot;word_feature_log_prob.json&quot;</span><span class="p">,</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>        <span class="p">)</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">):</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>                    <span class="n">feature_log_prob_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>                <span class="k">if</span> <span class="p">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">)</span> <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">}</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>                    <span class="n">feature_log_prob_json</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>                <span class="p">):</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>                    <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">:</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="p">[</span><span class="n">ft</span><span class="p">]</span> <span class="o">=</span> <span class="n">feature_log_prob_json</span><span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">)]</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>                    <span class="k">return</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read feature log probabilities cache: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>        <span class="n">feature_count</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">WordFeature</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="o">.</span><span class="n">word_frequencies</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>            <span class="n">precomputes</span> <span class="o">=</span> <span class="n">WordFeaturePrecomputes</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">:</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>                <span class="k">if</span> <span class="n">feature</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="p">,</span> <span class="n">precomputes</span><span class="p">):</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>                    <span class="n">feature_count</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span> <span class="o">+=</span> <span class="n">freq</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>        <span class="n">word_frequency_total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="o">.</span><span class="n">word_frequency_total</span><span class="p">()</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>            <span class="n">feature</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">feature_count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span> <span class="o">/</span> <span class="n">word_frequency_total</span><span class="p">)</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>        <span class="p">}</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>                    <span class="p">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">):</span> <span class="n">lp</span> <span class="k">for</span> <span class="n">ft</span><span class="p">,</span> <span class="n">lp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span> <span class="n">f</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>                <span class="p">)</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to cache feature log probabilities: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate_words</span><span class="p">(</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">top_n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">WordFeatureResult</span><span class="p">]:</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluate a set of words against all word features.</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a><span class="sd">        :param words: The words to evaluate.</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a><span class="sd">        :param top_n: The number of top results to return. If None, all results will be</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="sd">            returned.</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a><span class="sd">        :return: A list of WordFeatureResults, one for each word feature. The list is</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a><span class="sd">            sorted by log probability, from least likely to most likely.</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>        <span class="n">precomputes</span> <span class="o">=</span> <span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>        <span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">feature_log_prob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>            <span class="n">evals</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>                <span class="n">feature</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="p">,</span> <span class="n">precompute</span><span class="p">)</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>                <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">precompute</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">precomputes</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>            <span class="p">]</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">evals</span><span class="p">):</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>                <span class="n">satisfied_words</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>                    <span class="n">word</span> <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">evals</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>                <span class="p">]</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>                    <span class="n">WordFeatureResult</span><span class="p">(</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>                        <span class="n">feature</span><span class="p">,</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>                        <span class="n">satisfied_words</span><span class="p">,</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>                        <span class="n">feature_log_prob</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">satisfied_words</span><span class="p">),</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>                    <span class="p">)</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>                <span class="p">)</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>        <span class="n">results</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">result</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">log_prob</span><span class="p">)</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>        <span class="k">if</span> <span class="n">top_n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:</span><span class="n">top_n</span><span class="p">]</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>        <span class="k">return</span> <span class="n">results</span>
</span></pre></div>


            </section>
                <section id="logger">
                    <div class="attr variable">
            <span class="name">logger</span>        =
<span class="default_value">&lt;Logger <a href="">sputter.word_features</a> (WARNING)&gt;</span>

        
    </div>
    <a class="headerlink" href="#logger"></a>
    
    

                </section>
                <section id="ALPHABET">
                    <div class="attr variable">
            <span class="name">ALPHABET</span>        =
<input id="ALPHABET-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="ALPHABET-view-value"></label><span class="default_value">{&#39;O&#39;, &#39;B&#39;, &#39;I&#39;, &#39;M&#39;, &#39;W&#39;, &#39;Z&#39;, &#39;Q&#39;, &#39;K&#39;, &#39;V&#39;, &#39;C&#39;, &#39;G&#39;, &#39;E&#39;, &#39;J&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;T&#39;, &#39;D&#39;, &#39;H&#39;, &#39;P&#39;, &#39;A&#39;, &#39;L&#39;, &#39;U&#39;, &#39;S&#39;, &#39;F&#39;, &#39;N&#39;, &#39;R&#39;}</span>

        
    </div>
    <a class="headerlink" href="#ALPHABET"></a>
    
    

                </section>
                <section id="VOWELS">
                    <div class="attr variable">
            <span class="name">VOWELS</span>        =
<span class="default_value">{&#39;A&#39;, &#39;O&#39;, &#39;U&#39;, &#39;I&#39;, &#39;E&#39;}</span>

        
    </div>
    <a class="headerlink" href="#VOWELS"></a>
    
    

                </section>
                <section id="CONSONANTS">
                    <div class="attr variable">
            <span class="name">CONSONANTS</span>        =
<input id="CONSONANTS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="CONSONANTS-view-value"></label><span class="default_value">{&#39;Y&#39;, &#39;T&#39;, &#39;B&#39;, &#39;M&#39;, &#39;W&#39;, &#39;Z&#39;, &#39;D&#39;, &#39;R&#39;, &#39;H&#39;, &#39;K&#39;, &#39;V&#39;, &#39;C&#39;, &#39;P&#39;, &#39;X&#39;, &#39;G&#39;, &#39;L&#39;, &#39;S&#39;, &#39;F&#39;, &#39;N&#39;, &#39;Q&#39;, &#39;J&#39;}</span>

        
    </div>
    <a class="headerlink" href="#CONSONANTS"></a>
    
    

                </section>
                <section id="CARDINAL_DIRECTIONS">
                    <div class="attr variable">
            <span class="name">CARDINAL_DIRECTIONS</span>        =
<span class="default_value">{&#39;N&#39;, &#39;W&#39;, &#39;S&#39;, &#39;E&#39;}</span>

        
    </div>
    <a class="headerlink" href="#CARDINAL_DIRECTIONS"></a>
    
    

                </section>
                <section id="CHEMICAL_ELEMENT_SYMBOLS">
                    <div class="attr variable">
            <span class="name">CHEMICAL_ELEMENT_SYMBOLS</span>        =
<input id="CHEMICAL_ELEMENT_SYMBOLS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="CHEMICAL_ELEMENT_SYMBOLS-view-value"></label><span class="default_value">[&#39;H&#39;, &#39;HE&#39;, &#39;LI&#39;, &#39;BE&#39;, &#39;B&#39;, &#39;C&#39;, &#39;N&#39;, &#39;O&#39;, &#39;F&#39;, &#39;NE&#39;, &#39;NA&#39;, &#39;MG&#39;, &#39;AL&#39;, &#39;SI&#39;, &#39;P&#39;, &#39;S&#39;, &#39;CL&#39;, &#39;AR&#39;, &#39;K&#39;, &#39;CA&#39;, &#39;SC&#39;, &#39;TI&#39;, &#39;V&#39;, &#39;CR&#39;, &#39;MN&#39;, &#39;FE&#39;, &#39;CO&#39;, &#39;NI&#39;, &#39;CU&#39;, &#39;ZN&#39;, &#39;GA&#39;, &#39;GE&#39;, &#39;AS&#39;, &#39;SE&#39;, &#39;BR&#39;, &#39;KR&#39;, &#39;RB&#39;, &#39;SR&#39;, &#39;Y&#39;, &#39;ZR&#39;, &#39;NB&#39;, &#39;MO&#39;, &#39;TC&#39;, &#39;RU&#39;, &#39;RH&#39;, &#39;PD&#39;, &#39;AG&#39;, &#39;CD&#39;, &#39;IN&#39;, &#39;SN&#39;, &#39;SB&#39;, &#39;TE&#39;, &#39;I&#39;, &#39;XE&#39;, &#39;CS&#39;, &#39;BA&#39;, &#39;LA&#39;, &#39;CE&#39;, &#39;PR&#39;, &#39;ND&#39;, &#39;PM&#39;, &#39;SM&#39;, &#39;EU&#39;, &#39;GD&#39;, &#39;TB&#39;, &#39;DY&#39;, &#39;HO&#39;, &#39;ER&#39;, &#39;TM&#39;, &#39;YB&#39;, &#39;LU&#39;, &#39;HF&#39;, &#39;TA&#39;, &#39;W&#39;, &#39;RE&#39;, &#39;OS&#39;, &#39;IR&#39;, &#39;PT&#39;, &#39;AU&#39;, &#39;HG&#39;, &#39;TL&#39;, &#39;PB&#39;, &#39;BI&#39;, &#39;PO&#39;, &#39;AT&#39;, &#39;RN&#39;, &#39;FR&#39;, &#39;RA&#39;, &#39;AC&#39;, &#39;TH&#39;, &#39;PA&#39;, &#39;U&#39;, &#39;NP&#39;, &#39;PU&#39;, &#39;AM&#39;, &#39;CM&#39;, &#39;BK&#39;, &#39;CF&#39;, &#39;ES&#39;, &#39;FM&#39;, &#39;MD&#39;, &#39;NO&#39;, &#39;LR&#39;, &#39;RF&#39;, &#39;DB&#39;, &#39;SG&#39;, &#39;BH&#39;, &#39;HS&#39;, &#39;MT&#39;, &#39;DS&#39;, &#39;RG&#39;, &#39;CN&#39;, &#39;NH&#39;, &#39;FL&#39;, &#39;MC&#39;, &#39;LV&#39;, &#39;TS&#39;, &#39;OG&#39;]</span>

        
    </div>
    <a class="headerlink" href="#CHEMICAL_ELEMENT_SYMBOLS"></a>
    
    

                </section>
                <section id="STATE_ABBREVIATIONS">
                    <div class="attr variable">
            <span class="name">STATE_ABBREVIATIONS</span>        =
<input id="STATE_ABBREVIATIONS-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="STATE_ABBREVIATIONS-view-value"></label><span class="default_value">[&#39;AL&#39;, &#39;AK&#39;, &#39;AZ&#39;, &#39;AR&#39;, &#39;CA&#39;, &#39;CO&#39;, &#39;CT&#39;, &#39;DE&#39;, &#39;FL&#39;, &#39;GA&#39;, &#39;HI&#39;, &#39;ID&#39;, &#39;IL&#39;, &#39;IN&#39;, &#39;IA&#39;, &#39;KS&#39;, &#39;KY&#39;, &#39;LA&#39;, &#39;ME&#39;, &#39;MD&#39;, &#39;MA&#39;, &#39;MI&#39;, &#39;MN&#39;, &#39;MS&#39;, &#39;MO&#39;, &#39;MT&#39;, &#39;NE&#39;, &#39;NV&#39;, &#39;NH&#39;, &#39;NJ&#39;, &#39;NM&#39;, &#39;NY&#39;, &#39;NC&#39;, &#39;ND&#39;, &#39;OH&#39;, &#39;OK&#39;, &#39;OR&#39;, &#39;PA&#39;, &#39;RI&#39;, &#39;SC&#39;, &#39;SD&#39;, &#39;TN&#39;, &#39;TX&#39;, &#39;UT&#39;, &#39;VT&#39;, &#39;VA&#39;, &#39;WA&#39;, &#39;WV&#39;, &#39;WI&#39;, &#39;WY&#39;]</span>

        
    </div>
    <a class="headerlink" href="#STATE_ABBREVIATIONS"></a>
    
    

                </section>
                <section id="WordFeaturePrecomputes">
                            <input id="WordFeaturePrecomputes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass</div>

    <span class="def">class</span>
    <span class="name">WordFeaturePrecomputes</span>:

                <label class="view-source-button" for="WordFeaturePrecomputes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeaturePrecomputes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeaturePrecomputes-201"><a href="#WordFeaturePrecomputes-201"><span class="linenos">201</span></a><span class="nd">@dataclass</span>
</span><span id="WordFeaturePrecomputes-202"><a href="#WordFeaturePrecomputes-202"><span class="linenos">202</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeaturePrecomputes</span><span class="p">:</span>
</span><span id="WordFeaturePrecomputes-203"><a href="#WordFeaturePrecomputes-203"><span class="linenos">203</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Precomputes for word features.&quot;&quot;&quot;</span>
</span><span id="WordFeaturePrecomputes-204"><a href="#WordFeaturePrecomputes-204"><span class="linenos">204</span></a>
</span><span id="WordFeaturePrecomputes-205"><a href="#WordFeaturePrecomputes-205"><span class="linenos">205</span></a>    <span class="n">__ORD_A</span> <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
</span><span id="WordFeaturePrecomputes-206"><a href="#WordFeaturePrecomputes-206"><span class="linenos">206</span></a>
</span><span id="WordFeaturePrecomputes-207"><a href="#WordFeaturePrecomputes-207"><span class="linenos">207</span></a>    <span class="n">word_letter_counts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
</span><span id="WordFeaturePrecomputes-208"><a href="#WordFeaturePrecomputes-208"><span class="linenos">208</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A list of letter counts in the word, where index 0 is A, 1 is B, etc.&quot;&quot;&quot;</span>
</span><span id="WordFeaturePrecomputes-209"><a href="#WordFeaturePrecomputes-209"><span class="linenos">209</span></a>
</span><span id="WordFeaturePrecomputes-210"><a href="#WordFeaturePrecomputes-210"><span class="linenos">210</span></a>    <span class="n">letter_bank</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="WordFeaturePrecomputes-211"><a href="#WordFeaturePrecomputes-211"><span class="linenos">211</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The set of letters in the word.&quot;&quot;&quot;</span>
</span><span id="WordFeaturePrecomputes-212"><a href="#WordFeaturePrecomputes-212"><span class="linenos">212</span></a>
</span><span id="WordFeaturePrecomputes-213"><a href="#WordFeaturePrecomputes-213"><span class="linenos">213</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="WordFeaturePrecomputes-214"><a href="#WordFeaturePrecomputes-214"><span class="linenos">214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span>
</span><span id="WordFeaturePrecomputes-215"><a href="#WordFeaturePrecomputes-215"><span class="linenos">215</span></a>        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="WordFeaturePrecomputes-216"><a href="#WordFeaturePrecomputes-216"><span class="linenos">216</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="n">WordFeaturePrecomputes</span><span class="o">.</span><span class="n">__ORD_A</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="WordFeaturePrecomputes-217"><a href="#WordFeaturePrecomputes-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="WordFeaturePrecomputes-218"><a href="#WordFeaturePrecomputes-218"><span class="linenos">218</span></a>
</span><span id="WordFeaturePrecomputes-219"><a href="#WordFeaturePrecomputes-219"><span class="linenos">219</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_letter_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="WordFeaturePrecomputes-220"><a href="#WordFeaturePrecomputes-220"><span class="linenos">220</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the number of times the letter appears in the word.&quot;&quot;&quot;</span>
</span><span id="WordFeaturePrecomputes-221"><a href="#WordFeaturePrecomputes-221"><span class="linenos">221</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="n">WordFeaturePrecomputes</span><span class="o">.</span><span class="n">__ORD_A</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Precomputes for word features.</p>
</div>


                            <div id="WordFeaturePrecomputes.__init__" class="classattr">
                                        <input id="WordFeaturePrecomputes.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">WordFeaturePrecomputes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">word</span><span class="p">:</span> <span class="nb">str</span></span>)</span>

                <label class="view-source-button" for="WordFeaturePrecomputes.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeaturePrecomputes.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeaturePrecomputes.__init__-213"><a href="#WordFeaturePrecomputes.__init__-213"><span class="linenos">213</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="WordFeaturePrecomputes.__init__-214"><a href="#WordFeaturePrecomputes.__init__-214"><span class="linenos">214</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">26</span>
</span><span id="WordFeaturePrecomputes.__init__-215"><a href="#WordFeaturePrecomputes.__init__-215"><span class="linenos">215</span></a>        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="WordFeaturePrecomputes.__init__-216"><a href="#WordFeaturePrecomputes.__init__-216"><span class="linenos">216</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="n">WordFeaturePrecomputes</span><span class="o">.</span><span class="n">__ORD_A</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="WordFeaturePrecomputes.__init__-217"><a href="#WordFeaturePrecomputes.__init__-217"><span class="linenos">217</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="WordFeaturePrecomputes.word_letter_counts" class="classattr">
                                <div class="attr variable">
            <span class="name">word_letter_counts</span><span class="annotation">: List[int]</span>

        
    </div>
    <a class="headerlink" href="#WordFeaturePrecomputes.word_letter_counts"></a>
    
            <div class="docstring"><p>A list of letter counts in the word, where index 0 is A, 1 is B, etc.</p>
</div>


                            </div>
                            <div id="WordFeaturePrecomputes.letter_bank" class="classattr">
                                <div class="attr variable">
            <span class="name">letter_bank</span><span class="annotation">: Set[str]</span>

        
    </div>
    <a class="headerlink" href="#WordFeaturePrecomputes.letter_bank"></a>
    
            <div class="docstring"><p>The set of letters in the word.</p>
</div>


                            </div>
                            <div id="WordFeaturePrecomputes.get_letter_count" class="classattr">
                                        <input id="WordFeaturePrecomputes.get_letter_count-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_letter_count</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">letter</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="WordFeaturePrecomputes.get_letter_count-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeaturePrecomputes.get_letter_count"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeaturePrecomputes.get_letter_count-219"><a href="#WordFeaturePrecomputes.get_letter_count-219"><span class="linenos">219</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_letter_count</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="WordFeaturePrecomputes.get_letter_count-220"><a href="#WordFeaturePrecomputes.get_letter_count-220"><span class="linenos">220</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the number of times the letter appears in the word.&quot;&quot;&quot;</span>
</span><span id="WordFeaturePrecomputes.get_letter_count-221"><a href="#WordFeaturePrecomputes.get_letter_count-221"><span class="linenos">221</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">[</span><span class="nb">ord</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span> <span class="o">-</span> <span class="n">WordFeaturePrecomputes</span><span class="o">.</span><span class="n">__ORD_A</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Return the number of times the letter appears in the word.</p>
</div>


                            </div>
                </section>
                <section id="WordFeature">
                            <input id="WordFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">WordFeature</span>:

                <label class="view-source-button" for="WordFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeature-224"><a href="#WordFeature-224"><span class="linenos">224</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeature</span><span class="p">:</span>
</span><span id="WordFeature-225"><a href="#WordFeature-225"><span class="linenos">225</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A base class for detecting an interesting feature of a word.&quot;&quot;&quot;</span>
</span><span id="WordFeature-226"><a href="#WordFeature-226"><span class="linenos">226</span></a>
</span><span id="WordFeature-227"><a href="#WordFeature-227"><span class="linenos">227</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="WordFeature-228"><a href="#WordFeature-228"><span class="linenos">228</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="WordFeature-229"><a href="#WordFeature-229"><span class="linenos">229</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="WordFeature-230"><a href="#WordFeature-230"><span class="linenos">230</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="WordFeature-231"><a href="#WordFeature-231"><span class="linenos">231</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="WordFeature-232"><a href="#WordFeature-232"><span class="linenos">232</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="WordFeature-233"><a href="#WordFeature-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return true iff the word has this feature.&quot;&quot;&quot;</span>
</span><span id="WordFeature-234"><a href="#WordFeature-234"><span class="linenos">234</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</span></pre></div>


            <div class="docstring"><p>A base class for detecting an interesting feature of a word.</p>
</div>


                            <div id="WordFeature.evaluate" class="classattr">
                                        <input id="WordFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="WordFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeature.evaluate-227"><a href="#WordFeature.evaluate-227"><span class="linenos">227</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="WordFeature.evaluate-228"><a href="#WordFeature.evaluate-228"><span class="linenos">228</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="WordFeature.evaluate-229"><a href="#WordFeature.evaluate-229"><span class="linenos">229</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="WordFeature.evaluate-230"><a href="#WordFeature.evaluate-230"><span class="linenos">230</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="WordFeature.evaluate-231"><a href="#WordFeature.evaluate-231"><span class="linenos">231</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="WordFeature.evaluate-232"><a href="#WordFeature.evaluate-232"><span class="linenos">232</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="WordFeature.evaluate-233"><a href="#WordFeature.evaluate-233"><span class="linenos">233</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Return true iff the word has this feature.&quot;&quot;&quot;</span>
</span><span id="WordFeature.evaluate-234"><a href="#WordFeature.evaluate-234"><span class="linenos">234</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="LetterCountFeature">
                            <input id="LetterCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">LetterCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="LetterCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LetterCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LetterCountFeature-237"><a href="#LetterCountFeature-237"><span class="linenos">237</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="LetterCountFeature-238"><a href="#LetterCountFeature-238"><span class="linenos">238</span></a><span class="k">class</span><span class="w"> </span><span class="nc">LetterCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="LetterCountFeature-239"><a href="#LetterCountFeature-239"><span class="linenos">239</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of letter occurrences.&quot;&quot;&quot;</span>
</span><span id="LetterCountFeature-240"><a href="#LetterCountFeature-240"><span class="linenos">240</span></a>
</span><span id="LetterCountFeature-241"><a href="#LetterCountFeature-241"><span class="linenos">241</span></a>    <span class="n">letter</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="LetterCountFeature-242"><a href="#LetterCountFeature-242"><span class="linenos">242</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The letter to count. Must be uppercase.&quot;&quot;&quot;</span>
</span><span id="LetterCountFeature-243"><a href="#LetterCountFeature-243"><span class="linenos">243</span></a>
</span><span id="LetterCountFeature-244"><a href="#LetterCountFeature-244"><span class="linenos">244</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="LetterCountFeature-245"><a href="#LetterCountFeature-245"><span class="linenos">245</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of occurrences of the letter to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="LetterCountFeature-246"><a href="#LetterCountFeature-246"><span class="linenos">246</span></a>
</span><span id="LetterCountFeature-247"><a href="#LetterCountFeature-247"><span class="linenos">247</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="LetterCountFeature-248"><a href="#LetterCountFeature-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="LetterCountFeature-249"><a href="#LetterCountFeature-249"><span class="linenos">249</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="LetterCountFeature-250"><a href="#LetterCountFeature-250"><span class="linenos">250</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="LetterCountFeature-251"><a href="#LetterCountFeature-251"><span class="linenos">251</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="LetterCountFeature-252"><a href="#LetterCountFeature-252"><span class="linenos">252</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="LetterCountFeature-253"><a href="#LetterCountFeature-253"><span class="linenos">253</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="LetterCountFeature-254"><a href="#LetterCountFeature-254"><span class="linenos">254</span></a>            <span class="k">return</span> <span class="n">precomputes</span><span class="o">.</span><span class="n">get_letter_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="LetterCountFeature-255"><a href="#LetterCountFeature-255"><span class="linenos">255</span></a>        <span class="k">return</span> <span class="n">word</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="LetterCountFeature-256"><a href="#LetterCountFeature-256"><span class="linenos">256</span></a>
</span><span id="LetterCountFeature-257"><a href="#LetterCountFeature-257"><span class="linenos">257</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="LetterCountFeature-258"><a href="#LetterCountFeature-258"><span class="linenos">258</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> occurrences of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="si">}</span><span class="s2">&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of letter occurrences.</p>
</div>


                            <div id="LetterCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">LetterCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">letter</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#LetterCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="LetterCountFeature.letter" class="classattr">
                                <div class="attr variable">
            <span class="name">letter</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#LetterCountFeature.letter"></a>
    
            <div class="docstring"><p>The letter to count. Must be uppercase.</p>
</div>


                            </div>
                            <div id="LetterCountFeature.min_count" class="classattr">
                                <div class="attr variable">
            <span class="name">min_count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#LetterCountFeature.min_count"></a>
    
            <div class="docstring"><p>The minimum number of occurrences of the letter to satisfy this feature.</p>
</div>


                            </div>
                            <div id="LetterCountFeature.evaluate" class="classattr">
                                        <input id="LetterCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="LetterCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#LetterCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="LetterCountFeature.evaluate-247"><a href="#LetterCountFeature.evaluate-247"><span class="linenos">247</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="LetterCountFeature.evaluate-248"><a href="#LetterCountFeature.evaluate-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="LetterCountFeature.evaluate-249"><a href="#LetterCountFeature.evaluate-249"><span class="linenos">249</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="LetterCountFeature.evaluate-250"><a href="#LetterCountFeature.evaluate-250"><span class="linenos">250</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="LetterCountFeature.evaluate-251"><a href="#LetterCountFeature.evaluate-251"><span class="linenos">251</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="LetterCountFeature.evaluate-252"><a href="#LetterCountFeature.evaluate-252"><span class="linenos">252</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="LetterCountFeature.evaluate-253"><a href="#LetterCountFeature.evaluate-253"><span class="linenos">253</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="LetterCountFeature.evaluate-254"><a href="#LetterCountFeature.evaluate-254"><span class="linenos">254</span></a>            <span class="k">return</span> <span class="n">precomputes</span><span class="o">.</span><span class="n">get_letter_count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="LetterCountFeature.evaluate-255"><a href="#LetterCountFeature.evaluate-255"><span class="linenos">255</span></a>        <span class="k">return</span> <span class="n">word</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="RepeatedLetterFeature">
                            <input id="RepeatedLetterFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">RepeatedLetterFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="RepeatedLetterFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RepeatedLetterFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RepeatedLetterFeature-261"><a href="#RepeatedLetterFeature-261"><span class="linenos">261</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="RepeatedLetterFeature-262"><a href="#RepeatedLetterFeature-262"><span class="linenos">262</span></a><span class="k">class</span><span class="w"> </span><span class="nc">RepeatedLetterFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="RepeatedLetterFeature-263"><a href="#RepeatedLetterFeature-263"><span class="linenos">263</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of repeated letter occurrences.&quot;&quot;&quot;</span>
</span><span id="RepeatedLetterFeature-264"><a href="#RepeatedLetterFeature-264"><span class="linenos">264</span></a>
</span><span id="RepeatedLetterFeature-265"><a href="#RepeatedLetterFeature-265"><span class="linenos">265</span></a>    <span class="n">min_letter_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="RepeatedLetterFeature-266"><a href="#RepeatedLetterFeature-266"><span class="linenos">266</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of letters that must be repeated to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="RepeatedLetterFeature-267"><a href="#RepeatedLetterFeature-267"><span class="linenos">267</span></a>
</span><span id="RepeatedLetterFeature-268"><a href="#RepeatedLetterFeature-268"><span class="linenos">268</span></a>    <span class="n">min_repeat_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="RepeatedLetterFeature-269"><a href="#RepeatedLetterFeature-269"><span class="linenos">269</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of letter repetitions needed to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="RepeatedLetterFeature-270"><a href="#RepeatedLetterFeature-270"><span class="linenos">270</span></a>
</span><span id="RepeatedLetterFeature-271"><a href="#RepeatedLetterFeature-271"><span class="linenos">271</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="RepeatedLetterFeature-272"><a href="#RepeatedLetterFeature-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="RepeatedLetterFeature-273"><a href="#RepeatedLetterFeature-273"><span class="linenos">273</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="RepeatedLetterFeature-274"><a href="#RepeatedLetterFeature-274"><span class="linenos">274</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="RepeatedLetterFeature-275"><a href="#RepeatedLetterFeature-275"><span class="linenos">275</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="RepeatedLetterFeature-276"><a href="#RepeatedLetterFeature-276"><span class="linenos">276</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="RepeatedLetterFeature-277"><a href="#RepeatedLetterFeature-277"><span class="linenos">277</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="RepeatedLetterFeature-278"><a href="#RepeatedLetterFeature-278"><span class="linenos">278</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="RepeatedLetterFeature-279"><a href="#RepeatedLetterFeature-279"><span class="linenos">279</span></a>                <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">precomputes</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">)</span>
</span><span id="RepeatedLetterFeature-280"><a href="#RepeatedLetterFeature-280"><span class="linenos">280</span></a>                <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span>
</span><span id="RepeatedLetterFeature-281"><a href="#RepeatedLetterFeature-281"><span class="linenos">281</span></a>            <span class="p">)</span>
</span><span id="RepeatedLetterFeature-282"><a href="#RepeatedLetterFeature-282"><span class="linenos">282</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="RepeatedLetterFeature-283"><a href="#RepeatedLetterFeature-283"><span class="linenos">283</span></a>            <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="RepeatedLetterFeature-284"><a href="#RepeatedLetterFeature-284"><span class="linenos">284</span></a>            <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span>
</span><span id="RepeatedLetterFeature-285"><a href="#RepeatedLetterFeature-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span><span id="RepeatedLetterFeature-286"><a href="#RepeatedLetterFeature-286"><span class="linenos">286</span></a>
</span><span id="RepeatedLetterFeature-287"><a href="#RepeatedLetterFeature-287"><span class="linenos">287</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="RepeatedLetterFeature-288"><a href="#RepeatedLetterFeature-288"><span class="linenos">288</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;has at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span><span class="si">}</span><span class="s2"> letters repeated at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span><span class="si">}</span><span class="s2"> times each&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of repeated letter occurrences.</p>
</div>


                            <div id="RepeatedLetterFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">RepeatedLetterFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">min_letter_count</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">min_repeat_count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#RepeatedLetterFeature.__init__"></a>
    
    

                            </div>
                            <div id="RepeatedLetterFeature.min_letter_count" class="classattr">
                                <div class="attr variable">
            <span class="name">min_letter_count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#RepeatedLetterFeature.min_letter_count"></a>
    
            <div class="docstring"><p>The number of letters that must be repeated to satisfy this feature.</p>
</div>


                            </div>
                            <div id="RepeatedLetterFeature.min_repeat_count" class="classattr">
                                <div class="attr variable">
            <span class="name">min_repeat_count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#RepeatedLetterFeature.min_repeat_count"></a>
    
            <div class="docstring"><p>The number of letter repetitions needed to satisfy this feature.</p>
</div>


                            </div>
                            <div id="RepeatedLetterFeature.evaluate" class="classattr">
                                        <input id="RepeatedLetterFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="RepeatedLetterFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#RepeatedLetterFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="RepeatedLetterFeature.evaluate-271"><a href="#RepeatedLetterFeature.evaluate-271"><span class="linenos">271</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="RepeatedLetterFeature.evaluate-272"><a href="#RepeatedLetterFeature.evaluate-272"><span class="linenos">272</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="RepeatedLetterFeature.evaluate-273"><a href="#RepeatedLetterFeature.evaluate-273"><span class="linenos">273</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="RepeatedLetterFeature.evaluate-274"><a href="#RepeatedLetterFeature.evaluate-274"><span class="linenos">274</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="RepeatedLetterFeature.evaluate-275"><a href="#RepeatedLetterFeature.evaluate-275"><span class="linenos">275</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="RepeatedLetterFeature.evaluate-276"><a href="#RepeatedLetterFeature.evaluate-276"><span class="linenos">276</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="RepeatedLetterFeature.evaluate-277"><a href="#RepeatedLetterFeature.evaluate-277"><span class="linenos">277</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="RepeatedLetterFeature.evaluate-278"><a href="#RepeatedLetterFeature.evaluate-278"><span class="linenos">278</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="RepeatedLetterFeature.evaluate-279"><a href="#RepeatedLetterFeature.evaluate-279"><span class="linenos">279</span></a>                <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">precomputes</span><span class="o">.</span><span class="n">word_letter_counts</span><span class="p">)</span>
</span><span id="RepeatedLetterFeature.evaluate-280"><a href="#RepeatedLetterFeature.evaluate-280"><span class="linenos">280</span></a>                <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span>
</span><span id="RepeatedLetterFeature.evaluate-281"><a href="#RepeatedLetterFeature.evaluate-281"><span class="linenos">281</span></a>            <span class="p">)</span>
</span><span id="RepeatedLetterFeature.evaluate-282"><a href="#RepeatedLetterFeature.evaluate-282"><span class="linenos">282</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="RepeatedLetterFeature.evaluate-283"><a href="#RepeatedLetterFeature.evaluate-283"><span class="linenos">283</span></a>            <span class="nb">sum</span><span class="p">(</span><span class="n">c</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_repeat_count</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">Counter</span><span class="p">(</span><span class="n">word</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
</span><span id="RepeatedLetterFeature.evaluate-284"><a href="#RepeatedLetterFeature.evaluate-284"><span class="linenos">284</span></a>            <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_letter_count</span>
</span><span id="RepeatedLetterFeature.evaluate-285"><a href="#RepeatedLetterFeature.evaluate-285"><span class="linenos">285</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="UniqueLetterCountFeature">
                            <input id="UniqueLetterCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">UniqueLetterCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="UniqueLetterCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UniqueLetterCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UniqueLetterCountFeature-291"><a href="#UniqueLetterCountFeature-291"><span class="linenos">291</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="UniqueLetterCountFeature-292"><a href="#UniqueLetterCountFeature-292"><span class="linenos">292</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UniqueLetterCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="UniqueLetterCountFeature-293"><a href="#UniqueLetterCountFeature-293"><span class="linenos">293</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of unique letter occurrences.&quot;&quot;&quot;</span>
</span><span id="UniqueLetterCountFeature-294"><a href="#UniqueLetterCountFeature-294"><span class="linenos">294</span></a>
</span><span id="UniqueLetterCountFeature-295"><a href="#UniqueLetterCountFeature-295"><span class="linenos">295</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="UniqueLetterCountFeature-296"><a href="#UniqueLetterCountFeature-296"><span class="linenos">296</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of unique letters to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="UniqueLetterCountFeature-297"><a href="#UniqueLetterCountFeature-297"><span class="linenos">297</span></a>
</span><span id="UniqueLetterCountFeature-298"><a href="#UniqueLetterCountFeature-298"><span class="linenos">298</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="UniqueLetterCountFeature-299"><a href="#UniqueLetterCountFeature-299"><span class="linenos">299</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UniqueLetterCountFeature-300"><a href="#UniqueLetterCountFeature-300"><span class="linenos">300</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="UniqueLetterCountFeature-301"><a href="#UniqueLetterCountFeature-301"><span class="linenos">301</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="UniqueLetterCountFeature-302"><a href="#UniqueLetterCountFeature-302"><span class="linenos">302</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="UniqueLetterCountFeature-303"><a href="#UniqueLetterCountFeature-303"><span class="linenos">303</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="UniqueLetterCountFeature-304"><a href="#UniqueLetterCountFeature-304"><span class="linenos">304</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="UniqueLetterCountFeature-305"><a href="#UniqueLetterCountFeature-305"><span class="linenos">305</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueLetterCountFeature-306"><a href="#UniqueLetterCountFeature-306"><span class="linenos">306</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">))</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueLetterCountFeature-307"><a href="#UniqueLetterCountFeature-307"><span class="linenos">307</span></a>
</span><span id="UniqueLetterCountFeature-308"><a href="#UniqueLetterCountFeature-308"><span class="linenos">308</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UniqueLetterCountFeature-309"><a href="#UniqueLetterCountFeature-309"><span class="linenos">309</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> unique letters&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of unique letter occurrences.</p>
</div>


                            <div id="UniqueLetterCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">UniqueLetterCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#UniqueLetterCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="UniqueLetterCountFeature.count" class="classattr">
                                <div class="attr variable">
            <span class="name">count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#UniqueLetterCountFeature.count"></a>
    
            <div class="docstring"><p>The number of unique letters to satisfy this feature.</p>
</div>


                            </div>
                            <div id="UniqueLetterCountFeature.evaluate" class="classattr">
                                        <input id="UniqueLetterCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="UniqueLetterCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UniqueLetterCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UniqueLetterCountFeature.evaluate-298"><a href="#UniqueLetterCountFeature.evaluate-298"><span class="linenos">298</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="UniqueLetterCountFeature.evaluate-299"><a href="#UniqueLetterCountFeature.evaluate-299"><span class="linenos">299</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UniqueLetterCountFeature.evaluate-300"><a href="#UniqueLetterCountFeature.evaluate-300"><span class="linenos">300</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="UniqueLetterCountFeature.evaluate-301"><a href="#UniqueLetterCountFeature.evaluate-301"><span class="linenos">301</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="UniqueLetterCountFeature.evaluate-302"><a href="#UniqueLetterCountFeature.evaluate-302"><span class="linenos">302</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="UniqueLetterCountFeature.evaluate-303"><a href="#UniqueLetterCountFeature.evaluate-303"><span class="linenos">303</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="UniqueLetterCountFeature.evaluate-304"><a href="#UniqueLetterCountFeature.evaluate-304"><span class="linenos">304</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="UniqueLetterCountFeature.evaluate-305"><a href="#UniqueLetterCountFeature.evaluate-305"><span class="linenos">305</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueLetterCountFeature.evaluate-306"><a href="#UniqueLetterCountFeature.evaluate-306"><span class="linenos">306</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">))</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="UniqueVowelCountFeature">
                            <input id="UniqueVowelCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">UniqueVowelCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="UniqueVowelCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UniqueVowelCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UniqueVowelCountFeature-312"><a href="#UniqueVowelCountFeature-312"><span class="linenos">312</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="UniqueVowelCountFeature-313"><a href="#UniqueVowelCountFeature-313"><span class="linenos">313</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UniqueVowelCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="UniqueVowelCountFeature-314"><a href="#UniqueVowelCountFeature-314"><span class="linenos">314</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of unique vowel occurrences.&quot;&quot;&quot;</span>
</span><span id="UniqueVowelCountFeature-315"><a href="#UniqueVowelCountFeature-315"><span class="linenos">315</span></a>
</span><span id="UniqueVowelCountFeature-316"><a href="#UniqueVowelCountFeature-316"><span class="linenos">316</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="UniqueVowelCountFeature-317"><a href="#UniqueVowelCountFeature-317"><span class="linenos">317</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of unique vowels to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="UniqueVowelCountFeature-318"><a href="#UniqueVowelCountFeature-318"><span class="linenos">318</span></a>
</span><span id="UniqueVowelCountFeature-319"><a href="#UniqueVowelCountFeature-319"><span class="linenos">319</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="UniqueVowelCountFeature-320"><a href="#UniqueVowelCountFeature-320"><span class="linenos">320</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UniqueVowelCountFeature-321"><a href="#UniqueVowelCountFeature-321"><span class="linenos">321</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="UniqueVowelCountFeature-322"><a href="#UniqueVowelCountFeature-322"><span class="linenos">322</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="UniqueVowelCountFeature-323"><a href="#UniqueVowelCountFeature-323"><span class="linenos">323</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="UniqueVowelCountFeature-324"><a href="#UniqueVowelCountFeature-324"><span class="linenos">324</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="UniqueVowelCountFeature-325"><a href="#UniqueVowelCountFeature-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="UniqueVowelCountFeature-326"><a href="#UniqueVowelCountFeature-326"><span class="linenos">326</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">&amp;</span> <span class="n">VOWELS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueVowelCountFeature-327"><a href="#UniqueVowelCountFeature-327"><span class="linenos">327</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">VOWELS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueVowelCountFeature-328"><a href="#UniqueVowelCountFeature-328"><span class="linenos">328</span></a>
</span><span id="UniqueVowelCountFeature-329"><a href="#UniqueVowelCountFeature-329"><span class="linenos">329</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UniqueVowelCountFeature-330"><a href="#UniqueVowelCountFeature-330"><span class="linenos">330</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> unique vowels&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of unique vowel occurrences.</p>
</div>


                            <div id="UniqueVowelCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">UniqueVowelCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#UniqueVowelCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="UniqueVowelCountFeature.count" class="classattr">
                                <div class="attr variable">
            <span class="name">count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#UniqueVowelCountFeature.count"></a>
    
            <div class="docstring"><p>The number of unique vowels to satisfy this feature.</p>
</div>


                            </div>
                            <div id="UniqueVowelCountFeature.evaluate" class="classattr">
                                        <input id="UniqueVowelCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="UniqueVowelCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UniqueVowelCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UniqueVowelCountFeature.evaluate-319"><a href="#UniqueVowelCountFeature.evaluate-319"><span class="linenos">319</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="UniqueVowelCountFeature.evaluate-320"><a href="#UniqueVowelCountFeature.evaluate-320"><span class="linenos">320</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UniqueVowelCountFeature.evaluate-321"><a href="#UniqueVowelCountFeature.evaluate-321"><span class="linenos">321</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="UniqueVowelCountFeature.evaluate-322"><a href="#UniqueVowelCountFeature.evaluate-322"><span class="linenos">322</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="UniqueVowelCountFeature.evaluate-323"><a href="#UniqueVowelCountFeature.evaluate-323"><span class="linenos">323</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="UniqueVowelCountFeature.evaluate-324"><a href="#UniqueVowelCountFeature.evaluate-324"><span class="linenos">324</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="UniqueVowelCountFeature.evaluate-325"><a href="#UniqueVowelCountFeature.evaluate-325"><span class="linenos">325</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="UniqueVowelCountFeature.evaluate-326"><a href="#UniqueVowelCountFeature.evaluate-326"><span class="linenos">326</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">&amp;</span> <span class="n">VOWELS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueVowelCountFeature.evaluate-327"><a href="#UniqueVowelCountFeature.evaluate-327"><span class="linenos">327</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">VOWELS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="UniqueConsonantCountFeature">
                            <input id="UniqueConsonantCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">UniqueConsonantCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="UniqueConsonantCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UniqueConsonantCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UniqueConsonantCountFeature-333"><a href="#UniqueConsonantCountFeature-333"><span class="linenos">333</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="UniqueConsonantCountFeature-334"><a href="#UniqueConsonantCountFeature-334"><span class="linenos">334</span></a><span class="k">class</span><span class="w"> </span><span class="nc">UniqueConsonantCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="UniqueConsonantCountFeature-335"><a href="#UniqueConsonantCountFeature-335"><span class="linenos">335</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of unique consonant occurrences.&quot;&quot;&quot;</span>
</span><span id="UniqueConsonantCountFeature-336"><a href="#UniqueConsonantCountFeature-336"><span class="linenos">336</span></a>
</span><span id="UniqueConsonantCountFeature-337"><a href="#UniqueConsonantCountFeature-337"><span class="linenos">337</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="UniqueConsonantCountFeature-338"><a href="#UniqueConsonantCountFeature-338"><span class="linenos">338</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of unique consonants to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="UniqueConsonantCountFeature-339"><a href="#UniqueConsonantCountFeature-339"><span class="linenos">339</span></a>
</span><span id="UniqueConsonantCountFeature-340"><a href="#UniqueConsonantCountFeature-340"><span class="linenos">340</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="UniqueConsonantCountFeature-341"><a href="#UniqueConsonantCountFeature-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UniqueConsonantCountFeature-342"><a href="#UniqueConsonantCountFeature-342"><span class="linenos">342</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="UniqueConsonantCountFeature-343"><a href="#UniqueConsonantCountFeature-343"><span class="linenos">343</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="UniqueConsonantCountFeature-344"><a href="#UniqueConsonantCountFeature-344"><span class="linenos">344</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="UniqueConsonantCountFeature-345"><a href="#UniqueConsonantCountFeature-345"><span class="linenos">345</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="UniqueConsonantCountFeature-346"><a href="#UniqueConsonantCountFeature-346"><span class="linenos">346</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="UniqueConsonantCountFeature-347"><a href="#UniqueConsonantCountFeature-347"><span class="linenos">347</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">&amp;</span> <span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueConsonantCountFeature-348"><a href="#UniqueConsonantCountFeature-348"><span class="linenos">348</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueConsonantCountFeature-349"><a href="#UniqueConsonantCountFeature-349"><span class="linenos">349</span></a>
</span><span id="UniqueConsonantCountFeature-350"><a href="#UniqueConsonantCountFeature-350"><span class="linenos">350</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="UniqueConsonantCountFeature-351"><a href="#UniqueConsonantCountFeature-351"><span class="linenos">351</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> unique consonants&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of unique consonant occurrences.</p>
</div>


                            <div id="UniqueConsonantCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">UniqueConsonantCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#UniqueConsonantCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="UniqueConsonantCountFeature.count" class="classattr">
                                <div class="attr variable">
            <span class="name">count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#UniqueConsonantCountFeature.count"></a>
    
            <div class="docstring"><p>The number of unique consonants to satisfy this feature.</p>
</div>


                            </div>
                            <div id="UniqueConsonantCountFeature.evaluate" class="classattr">
                                        <input id="UniqueConsonantCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="UniqueConsonantCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UniqueConsonantCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UniqueConsonantCountFeature.evaluate-340"><a href="#UniqueConsonantCountFeature.evaluate-340"><span class="linenos">340</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="UniqueConsonantCountFeature.evaluate-341"><a href="#UniqueConsonantCountFeature.evaluate-341"><span class="linenos">341</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="UniqueConsonantCountFeature.evaluate-342"><a href="#UniqueConsonantCountFeature.evaluate-342"><span class="linenos">342</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="UniqueConsonantCountFeature.evaluate-343"><a href="#UniqueConsonantCountFeature.evaluate-343"><span class="linenos">343</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="UniqueConsonantCountFeature.evaluate-344"><a href="#UniqueConsonantCountFeature.evaluate-344"><span class="linenos">344</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="UniqueConsonantCountFeature.evaluate-345"><a href="#UniqueConsonantCountFeature.evaluate-345"><span class="linenos">345</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="UniqueConsonantCountFeature.evaluate-346"><a href="#UniqueConsonantCountFeature.evaluate-346"><span class="linenos">346</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="UniqueConsonantCountFeature.evaluate-347"><a href="#UniqueConsonantCountFeature.evaluate-347"><span class="linenos">347</span></a>            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">letter_bank</span> <span class="o">&amp;</span> <span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="UniqueConsonantCountFeature.evaluate-348"><a href="#UniqueConsonantCountFeature.evaluate-348"><span class="linenos">348</span></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">CONSONANTS</span><span class="p">)</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="AlternatesVowelConsonantFeature">
                            <input id="AlternatesVowelConsonantFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">AlternatesVowelConsonantFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="AlternatesVowelConsonantFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AlternatesVowelConsonantFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AlternatesVowelConsonantFeature-354"><a href="#AlternatesVowelConsonantFeature-354"><span class="linenos">354</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="AlternatesVowelConsonantFeature-355"><a href="#AlternatesVowelConsonantFeature-355"><span class="linenos">355</span></a><span class="k">class</span><span class="w"> </span><span class="nc">AlternatesVowelConsonantFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="AlternatesVowelConsonantFeature-356"><a href="#AlternatesVowelConsonantFeature-356"><span class="linenos">356</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on alternating vowel and consonant occurrences.&quot;&quot;&quot;</span>
</span><span id="AlternatesVowelConsonantFeature-357"><a href="#AlternatesVowelConsonantFeature-357"><span class="linenos">357</span></a>
</span><span id="AlternatesVowelConsonantFeature-358"><a href="#AlternatesVowelConsonantFeature-358"><span class="linenos">358</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="AlternatesVowelConsonantFeature-359"><a href="#AlternatesVowelConsonantFeature-359"><span class="linenos">359</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AlternatesVowelConsonantFeature-360"><a href="#AlternatesVowelConsonantFeature-360"><span class="linenos">360</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AlternatesVowelConsonantFeature-361"><a href="#AlternatesVowelConsonantFeature-361"><span class="linenos">361</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="AlternatesVowelConsonantFeature-362"><a href="#AlternatesVowelConsonantFeature-362"><span class="linenos">362</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="AlternatesVowelConsonantFeature-363"><a href="#AlternatesVowelConsonantFeature-363"><span class="linenos">363</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature-364"><a href="#AlternatesVowelConsonantFeature-364"><span class="linenos">364</span></a>        <span class="n">last_was_vowel</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">VOWELS</span>
</span><span id="AlternatesVowelConsonantFeature-365"><a href="#AlternatesVowelConsonantFeature-365"><span class="linenos">365</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
</span><span id="AlternatesVowelConsonantFeature-366"><a href="#AlternatesVowelConsonantFeature-366"><span class="linenos">366</span></a>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">VOWELS</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature-367"><a href="#AlternatesVowelConsonantFeature-367"><span class="linenos">367</span></a>                <span class="k">if</span> <span class="n">last_was_vowel</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature-368"><a href="#AlternatesVowelConsonantFeature-368"><span class="linenos">368</span></a>                    <span class="k">return</span> <span class="kc">False</span>
</span><span id="AlternatesVowelConsonantFeature-369"><a href="#AlternatesVowelConsonantFeature-369"><span class="linenos">369</span></a>            <span class="k">elif</span> <span class="ow">not</span> <span class="n">last_was_vowel</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature-370"><a href="#AlternatesVowelConsonantFeature-370"><span class="linenos">370</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="AlternatesVowelConsonantFeature-371"><a href="#AlternatesVowelConsonantFeature-371"><span class="linenos">371</span></a>            <span class="n">last_was_vowel</span> <span class="o">=</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">VOWELS</span>
</span><span id="AlternatesVowelConsonantFeature-372"><a href="#AlternatesVowelConsonantFeature-372"><span class="linenos">372</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="AlternatesVowelConsonantFeature-373"><a href="#AlternatesVowelConsonantFeature-373"><span class="linenos">373</span></a>
</span><span id="AlternatesVowelConsonantFeature-374"><a href="#AlternatesVowelConsonantFeature-374"><span class="linenos">374</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature-375"><a href="#AlternatesVowelConsonantFeature-375"><span class="linenos">375</span></a>        <span class="k">return</span> <span class="s2">&quot;alternates between vowels and consonants&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on alternating vowel and consonant occurrences.</p>
</div>


                            <div id="AlternatesVowelConsonantFeature.evaluate" class="classattr">
                                        <input id="AlternatesVowelConsonantFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="AlternatesVowelConsonantFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#AlternatesVowelConsonantFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="AlternatesVowelConsonantFeature.evaluate-358"><a href="#AlternatesVowelConsonantFeature.evaluate-358"><span class="linenos">358</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-359"><a href="#AlternatesVowelConsonantFeature.evaluate-359"><span class="linenos">359</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-360"><a href="#AlternatesVowelConsonantFeature.evaluate-360"><span class="linenos">360</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-361"><a href="#AlternatesVowelConsonantFeature.evaluate-361"><span class="linenos">361</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-362"><a href="#AlternatesVowelConsonantFeature.evaluate-362"><span class="linenos">362</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-363"><a href="#AlternatesVowelConsonantFeature.evaluate-363"><span class="linenos">363</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-364"><a href="#AlternatesVowelConsonantFeature.evaluate-364"><span class="linenos">364</span></a>        <span class="n">last_was_vowel</span> <span class="o">=</span> <span class="n">word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">VOWELS</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-365"><a href="#AlternatesVowelConsonantFeature.evaluate-365"><span class="linenos">365</span></a>        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-366"><a href="#AlternatesVowelConsonantFeature.evaluate-366"><span class="linenos">366</span></a>            <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">VOWELS</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-367"><a href="#AlternatesVowelConsonantFeature.evaluate-367"><span class="linenos">367</span></a>                <span class="k">if</span> <span class="n">last_was_vowel</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-368"><a href="#AlternatesVowelConsonantFeature.evaluate-368"><span class="linenos">368</span></a>                    <span class="k">return</span> <span class="kc">False</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-369"><a href="#AlternatesVowelConsonantFeature.evaluate-369"><span class="linenos">369</span></a>            <span class="k">elif</span> <span class="ow">not</span> <span class="n">last_was_vowel</span><span class="p">:</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-370"><a href="#AlternatesVowelConsonantFeature.evaluate-370"><span class="linenos">370</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-371"><a href="#AlternatesVowelConsonantFeature.evaluate-371"><span class="linenos">371</span></a>            <span class="n">last_was_vowel</span> <span class="o">=</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">VOWELS</span>
</span><span id="AlternatesVowelConsonantFeature.evaluate-372"><a href="#AlternatesVowelConsonantFeature.evaluate-372"><span class="linenos">372</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="DoubleLettersFeature">
                            <input id="DoubleLettersFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">DoubleLettersFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="DoubleLettersFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DoubleLettersFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DoubleLettersFeature-378"><a href="#DoubleLettersFeature-378"><span class="linenos">378</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DoubleLettersFeature-379"><a href="#DoubleLettersFeature-379"><span class="linenos">379</span></a><span class="k">class</span><span class="w"> </span><span class="nc">DoubleLettersFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="DoubleLettersFeature-380"><a href="#DoubleLettersFeature-380"><span class="linenos">380</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of occurrences of double letters.&quot;&quot;&quot;</span>
</span><span id="DoubleLettersFeature-381"><a href="#DoubleLettersFeature-381"><span class="linenos">381</span></a>
</span><span id="DoubleLettersFeature-382"><a href="#DoubleLettersFeature-382"><span class="linenos">382</span></a>    <span class="n">count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="DoubleLettersFeature-383"><a href="#DoubleLettersFeature-383"><span class="linenos">383</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of double letters to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="DoubleLettersFeature-384"><a href="#DoubleLettersFeature-384"><span class="linenos">384</span></a>
</span><span id="DoubleLettersFeature-385"><a href="#DoubleLettersFeature-385"><span class="linenos">385</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="DoubleLettersFeature-386"><a href="#DoubleLettersFeature-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="DoubleLettersFeature-387"><a href="#DoubleLettersFeature-387"><span class="linenos">387</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="DoubleLettersFeature-388"><a href="#DoubleLettersFeature-388"><span class="linenos">388</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="DoubleLettersFeature-389"><a href="#DoubleLettersFeature-389"><span class="linenos">389</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="DoubleLettersFeature-390"><a href="#DoubleLettersFeature-390"><span class="linenos">390</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DoubleLettersFeature-391"><a href="#DoubleLettersFeature-391"><span class="linenos">391</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="DoubleLettersFeature-392"><a href="#DoubleLettersFeature-392"><span class="linenos">392</span></a>            <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="DoubleLettersFeature-393"><a href="#DoubleLettersFeature-393"><span class="linenos">393</span></a>        <span class="p">)</span>
</span><span id="DoubleLettersFeature-394"><a href="#DoubleLettersFeature-394"><span class="linenos">394</span></a>
</span><span id="DoubleLettersFeature-395"><a href="#DoubleLettersFeature-395"><span class="linenos">395</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DoubleLettersFeature-396"><a href="#DoubleLettersFeature-396"><span class="linenos">396</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="si">}</span><span class="s2"> pairs of double letters&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of occurrences of double letters.</p>
</div>


                            <div id="DoubleLettersFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">DoubleLettersFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#DoubleLettersFeature.__init__"></a>
    
    

                            </div>
                            <div id="DoubleLettersFeature.count" class="classattr">
                                <div class="attr variable">
            <span class="name">count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#DoubleLettersFeature.count"></a>
    
            <div class="docstring"><p>The number of double letters to satisfy this feature.</p>
</div>


                            </div>
                            <div id="DoubleLettersFeature.evaluate" class="classattr">
                                        <input id="DoubleLettersFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="DoubleLettersFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DoubleLettersFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DoubleLettersFeature.evaluate-385"><a href="#DoubleLettersFeature.evaluate-385"><span class="linenos">385</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="DoubleLettersFeature.evaluate-386"><a href="#DoubleLettersFeature.evaluate-386"><span class="linenos">386</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="DoubleLettersFeature.evaluate-387"><a href="#DoubleLettersFeature.evaluate-387"><span class="linenos">387</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="DoubleLettersFeature.evaluate-388"><a href="#DoubleLettersFeature.evaluate-388"><span class="linenos">388</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="DoubleLettersFeature.evaluate-389"><a href="#DoubleLettersFeature.evaluate-389"><span class="linenos">389</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="DoubleLettersFeature.evaluate-390"><a href="#DoubleLettersFeature.evaluate-390"><span class="linenos">390</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="DoubleLettersFeature.evaluate-391"><a href="#DoubleLettersFeature.evaluate-391"><span class="linenos">391</span></a>        <span class="k">return</span> <span class="p">(</span>
</span><span id="DoubleLettersFeature.evaluate-392"><a href="#DoubleLettersFeature.evaluate-392"><span class="linenos">392</span></a>            <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">word</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span>
</span><span id="DoubleLettersFeature.evaluate-393"><a href="#DoubleLettersFeature.evaluate-393"><span class="linenos">393</span></a>        <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="CardinalDirectionsCountFeature">
                            <input id="CardinalDirectionsCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">CardinalDirectionsCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="CardinalDirectionsCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CardinalDirectionsCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CardinalDirectionsCountFeature-399"><a href="#CardinalDirectionsCountFeature-399"><span class="linenos">399</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="CardinalDirectionsCountFeature-400"><a href="#CardinalDirectionsCountFeature-400"><span class="linenos">400</span></a><span class="k">class</span><span class="w"> </span><span class="nc">CardinalDirectionsCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="CardinalDirectionsCountFeature-401"><a href="#CardinalDirectionsCountFeature-401"><span class="linenos">401</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of cardinal direction letters.&quot;&quot;&quot;</span>
</span><span id="CardinalDirectionsCountFeature-402"><a href="#CardinalDirectionsCountFeature-402"><span class="linenos">402</span></a>
</span><span id="CardinalDirectionsCountFeature-403"><a href="#CardinalDirectionsCountFeature-403"><span class="linenos">403</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="CardinalDirectionsCountFeature-404"><a href="#CardinalDirectionsCountFeature-404"><span class="linenos">404</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of cardinal direction letters to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="CardinalDirectionsCountFeature-405"><a href="#CardinalDirectionsCountFeature-405"><span class="linenos">405</span></a>
</span><span id="CardinalDirectionsCountFeature-406"><a href="#CardinalDirectionsCountFeature-406"><span class="linenos">406</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="CardinalDirectionsCountFeature-407"><a href="#CardinalDirectionsCountFeature-407"><span class="linenos">407</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="CardinalDirectionsCountFeature-408"><a href="#CardinalDirectionsCountFeature-408"><span class="linenos">408</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="CardinalDirectionsCountFeature-409"><a href="#CardinalDirectionsCountFeature-409"><span class="linenos">409</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="CardinalDirectionsCountFeature-410"><a href="#CardinalDirectionsCountFeature-410"><span class="linenos">410</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="CardinalDirectionsCountFeature-411"><a href="#CardinalDirectionsCountFeature-411"><span class="linenos">411</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="CardinalDirectionsCountFeature-412"><a href="#CardinalDirectionsCountFeature-412"><span class="linenos">412</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="CardinalDirectionsCountFeature-413"><a href="#CardinalDirectionsCountFeature-413"><span class="linenos">413</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="CardinalDirectionsCountFeature-414"><a href="#CardinalDirectionsCountFeature-414"><span class="linenos">414</span></a>                <span class="nb">sum</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">get_letter_count</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CARDINAL_DIRECTIONS</span><span class="p">)</span>
</span><span id="CardinalDirectionsCountFeature-415"><a href="#CardinalDirectionsCountFeature-415"><span class="linenos">415</span></a>                <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="CardinalDirectionsCountFeature-416"><a href="#CardinalDirectionsCountFeature-416"><span class="linenos">416</span></a>            <span class="p">)</span>
</span><span id="CardinalDirectionsCountFeature-417"><a href="#CardinalDirectionsCountFeature-417"><span class="linenos">417</span></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CARDINAL_DIRECTIONS</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="CardinalDirectionsCountFeature-418"><a href="#CardinalDirectionsCountFeature-418"><span class="linenos">418</span></a>
</span><span id="CardinalDirectionsCountFeature-419"><a href="#CardinalDirectionsCountFeature-419"><span class="linenos">419</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="CardinalDirectionsCountFeature-420"><a href="#CardinalDirectionsCountFeature-420"><span class="linenos">420</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> cardinal directions&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of cardinal direction letters.</p>
</div>


                            <div id="CardinalDirectionsCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">CardinalDirectionsCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#CardinalDirectionsCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="CardinalDirectionsCountFeature.min_count" class="classattr">
                                <div class="attr variable">
            <span class="name">min_count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#CardinalDirectionsCountFeature.min_count"></a>
    
            <div class="docstring"><p>The minimum number of cardinal direction letters to satisfy this feature.</p>
</div>


                            </div>
                            <div id="CardinalDirectionsCountFeature.evaluate" class="classattr">
                                        <input id="CardinalDirectionsCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="CardinalDirectionsCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CardinalDirectionsCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CardinalDirectionsCountFeature.evaluate-406"><a href="#CardinalDirectionsCountFeature.evaluate-406"><span class="linenos">406</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-407"><a href="#CardinalDirectionsCountFeature.evaluate-407"><span class="linenos">407</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-408"><a href="#CardinalDirectionsCountFeature.evaluate-408"><span class="linenos">408</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-409"><a href="#CardinalDirectionsCountFeature.evaluate-409"><span class="linenos">409</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-410"><a href="#CardinalDirectionsCountFeature.evaluate-410"><span class="linenos">410</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-411"><a href="#CardinalDirectionsCountFeature.evaluate-411"><span class="linenos">411</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-412"><a href="#CardinalDirectionsCountFeature.evaluate-412"><span class="linenos">412</span></a>        <span class="k">if</span> <span class="n">precomputes</span><span class="p">:</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-413"><a href="#CardinalDirectionsCountFeature.evaluate-413"><span class="linenos">413</span></a>            <span class="k">return</span> <span class="p">(</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-414"><a href="#CardinalDirectionsCountFeature.evaluate-414"><span class="linenos">414</span></a>                <span class="nb">sum</span><span class="p">(</span><span class="n">precomputes</span><span class="o">.</span><span class="n">get_letter_count</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CARDINAL_DIRECTIONS</span><span class="p">)</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-415"><a href="#CardinalDirectionsCountFeature.evaluate-415"><span class="linenos">415</span></a>                <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-416"><a href="#CardinalDirectionsCountFeature.evaluate-416"><span class="linenos">416</span></a>            <span class="p">)</span>
</span><span id="CardinalDirectionsCountFeature.evaluate-417"><a href="#CardinalDirectionsCountFeature.evaluate-417"><span class="linenos">417</span></a>        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">word</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">CARDINAL_DIRECTIONS</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="ChemicalElementSymbolCountFeature">
                            <input id="ChemicalElementSymbolCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">ChemicalElementSymbolCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="ChemicalElementSymbolCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChemicalElementSymbolCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChemicalElementSymbolCountFeature-423"><a href="#ChemicalElementSymbolCountFeature-423"><span class="linenos">423</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ChemicalElementSymbolCountFeature-424"><a href="#ChemicalElementSymbolCountFeature-424"><span class="linenos">424</span></a><span class="k">class</span><span class="w"> </span><span class="nc">ChemicalElementSymbolCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="ChemicalElementSymbolCountFeature-425"><a href="#ChemicalElementSymbolCountFeature-425"><span class="linenos">425</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of chemical element symbols.&quot;&quot;&quot;</span>
</span><span id="ChemicalElementSymbolCountFeature-426"><a href="#ChemicalElementSymbolCountFeature-426"><span class="linenos">426</span></a>
</span><span id="ChemicalElementSymbolCountFeature-427"><a href="#ChemicalElementSymbolCountFeature-427"><span class="linenos">427</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="ChemicalElementSymbolCountFeature-428"><a href="#ChemicalElementSymbolCountFeature-428"><span class="linenos">428</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of chemical element symbols to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="ChemicalElementSymbolCountFeature-429"><a href="#ChemicalElementSymbolCountFeature-429"><span class="linenos">429</span></a>
</span><span id="ChemicalElementSymbolCountFeature-430"><a href="#ChemicalElementSymbolCountFeature-430"><span class="linenos">430</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="ChemicalElementSymbolCountFeature-431"><a href="#ChemicalElementSymbolCountFeature-431"><span class="linenos">431</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ChemicalElementSymbolCountFeature-432"><a href="#ChemicalElementSymbolCountFeature-432"><span class="linenos">432</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="ChemicalElementSymbolCountFeature-433"><a href="#ChemicalElementSymbolCountFeature-433"><span class="linenos">433</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="ChemicalElementSymbolCountFeature-434"><a href="#ChemicalElementSymbolCountFeature-434"><span class="linenos">434</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="ChemicalElementSymbolCountFeature-435"><a href="#ChemicalElementSymbolCountFeature-435"><span class="linenos">435</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature-436"><a href="#ChemicalElementSymbolCountFeature-436"><span class="linenos">436</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="ChemicalElementSymbolCountFeature-437"><a href="#ChemicalElementSymbolCountFeature-437"><span class="linenos">437</span></a>        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">CHEMICAL_ELEMENT_SYMBOLS</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature-438"><a href="#ChemicalElementSymbolCountFeature-438"><span class="linenos">438</span></a>            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature-439"><a href="#ChemicalElementSymbolCountFeature-439"><span class="linenos">439</span></a>                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="ChemicalElementSymbolCountFeature-440"><a href="#ChemicalElementSymbolCountFeature-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="ChemicalElementSymbolCountFeature-441"><a href="#ChemicalElementSymbolCountFeature-441"><span class="linenos">441</span></a>
</span><span id="ChemicalElementSymbolCountFeature-442"><a href="#ChemicalElementSymbolCountFeature-442"><span class="linenos">442</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature-443"><a href="#ChemicalElementSymbolCountFeature-443"><span class="linenos">443</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> chemical element symbols&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of chemical element symbols.</p>
</div>


                            <div id="ChemicalElementSymbolCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">ChemicalElementSymbolCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#ChemicalElementSymbolCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="ChemicalElementSymbolCountFeature.min_count" class="classattr">
                                <div class="attr variable">
            <span class="name">min_count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#ChemicalElementSymbolCountFeature.min_count"></a>
    
            <div class="docstring"><p>The minimum number of chemical element symbols to satisfy this feature.</p>
</div>


                            </div>
                            <div id="ChemicalElementSymbolCountFeature.evaluate" class="classattr">
                                        <input id="ChemicalElementSymbolCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="ChemicalElementSymbolCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ChemicalElementSymbolCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ChemicalElementSymbolCountFeature.evaluate-430"><a href="#ChemicalElementSymbolCountFeature.evaluate-430"><span class="linenos">430</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-431"><a href="#ChemicalElementSymbolCountFeature.evaluate-431"><span class="linenos">431</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-432"><a href="#ChemicalElementSymbolCountFeature.evaluate-432"><span class="linenos">432</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-433"><a href="#ChemicalElementSymbolCountFeature.evaluate-433"><span class="linenos">433</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-434"><a href="#ChemicalElementSymbolCountFeature.evaluate-434"><span class="linenos">434</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-435"><a href="#ChemicalElementSymbolCountFeature.evaluate-435"><span class="linenos">435</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-436"><a href="#ChemicalElementSymbolCountFeature.evaluate-436"><span class="linenos">436</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-437"><a href="#ChemicalElementSymbolCountFeature.evaluate-437"><span class="linenos">437</span></a>        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">CHEMICAL_ELEMENT_SYMBOLS</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-438"><a href="#ChemicalElementSymbolCountFeature.evaluate-438"><span class="linenos">438</span></a>            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-439"><a href="#ChemicalElementSymbolCountFeature.evaluate-439"><span class="linenos">439</span></a>                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="ChemicalElementSymbolCountFeature.evaluate-440"><a href="#ChemicalElementSymbolCountFeature.evaluate-440"><span class="linenos">440</span></a>        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="StateAbbreviationCountFeature">
                            <input id="StateAbbreviationCountFeature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">StateAbbreviationCountFeature</span><wbr>(<span class="base"><a href="#WordFeature">WordFeature</a></span>):

                <label class="view-source-button" for="StateAbbreviationCountFeature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StateAbbreviationCountFeature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StateAbbreviationCountFeature-446"><a href="#StateAbbreviationCountFeature-446"><span class="linenos">446</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="StateAbbreviationCountFeature-447"><a href="#StateAbbreviationCountFeature-447"><span class="linenos">447</span></a><span class="k">class</span><span class="w"> </span><span class="nc">StateAbbreviationCountFeature</span><span class="p">(</span><span class="n">WordFeature</span><span class="p">):</span>
</span><span id="StateAbbreviationCountFeature-448"><a href="#StateAbbreviationCountFeature-448"><span class="linenos">448</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Word features based on number of US state abbreviations.&quot;&quot;&quot;</span>
</span><span id="StateAbbreviationCountFeature-449"><a href="#StateAbbreviationCountFeature-449"><span class="linenos">449</span></a>
</span><span id="StateAbbreviationCountFeature-450"><a href="#StateAbbreviationCountFeature-450"><span class="linenos">450</span></a>    <span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="StateAbbreviationCountFeature-451"><a href="#StateAbbreviationCountFeature-451"><span class="linenos">451</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The minimum number of US state abbreviations to satisfy this feature.&quot;&quot;&quot;</span>
</span><span id="StateAbbreviationCountFeature-452"><a href="#StateAbbreviationCountFeature-452"><span class="linenos">452</span></a>
</span><span id="StateAbbreviationCountFeature-453"><a href="#StateAbbreviationCountFeature-453"><span class="linenos">453</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="StateAbbreviationCountFeature-454"><a href="#StateAbbreviationCountFeature-454"><span class="linenos">454</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="StateAbbreviationCountFeature-455"><a href="#StateAbbreviationCountFeature-455"><span class="linenos">455</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="StateAbbreviationCountFeature-456"><a href="#StateAbbreviationCountFeature-456"><span class="linenos">456</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="StateAbbreviationCountFeature-457"><a href="#StateAbbreviationCountFeature-457"><span class="linenos">457</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="StateAbbreviationCountFeature-458"><a href="#StateAbbreviationCountFeature-458"><span class="linenos">458</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature-459"><a href="#StateAbbreviationCountFeature-459"><span class="linenos">459</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="StateAbbreviationCountFeature-460"><a href="#StateAbbreviationCountFeature-460"><span class="linenos">460</span></a>        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">STATE_ABBREVIATIONS</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature-461"><a href="#StateAbbreviationCountFeature-461"><span class="linenos">461</span></a>            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature-462"><a href="#StateAbbreviationCountFeature-462"><span class="linenos">462</span></a>                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="StateAbbreviationCountFeature-463"><a href="#StateAbbreviationCountFeature-463"><span class="linenos">463</span></a>        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span><span id="StateAbbreviationCountFeature-464"><a href="#StateAbbreviationCountFeature-464"><span class="linenos">464</span></a>
</span><span id="StateAbbreviationCountFeature-465"><a href="#StateAbbreviationCountFeature-465"><span class="linenos">465</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature-466"><a href="#StateAbbreviationCountFeature-466"><span class="linenos">466</span></a>        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;at least </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_count</span><span class="si">}</span><span class="s2"> US state abbreviations&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Word features based on number of US state abbreviations.</p>
</div>


                            <div id="StateAbbreviationCountFeature.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">StateAbbreviationCountFeature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">min_count</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#StateAbbreviationCountFeature.__init__"></a>
    
    

                            </div>
                            <div id="StateAbbreviationCountFeature.min_count" class="classattr">
                                <div class="attr variable">
            <span class="name">min_count</span><span class="annotation">: int</span>

        
    </div>
    <a class="headerlink" href="#StateAbbreviationCountFeature.min_count"></a>
    
            <div class="docstring"><p>The minimum number of US state abbreviations to satisfy this feature.</p>
</div>


                            </div>
                            <div id="StateAbbreviationCountFeature.evaluate" class="classattr">
                                        <input id="StateAbbreviationCountFeature.evaluate-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">word</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">ws</span><span class="p">:</span> <span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span>,</span><span class="param">	<span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#WordFeaturePrecomputes">WordFeaturePrecomputes</a></span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="StateAbbreviationCountFeature.evaluate-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StateAbbreviationCountFeature.evaluate"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StateAbbreviationCountFeature.evaluate-453"><a href="#StateAbbreviationCountFeature.evaluate-453"><span class="linenos">453</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate</span><span class="p">(</span>
</span><span id="StateAbbreviationCountFeature.evaluate-454"><a href="#StateAbbreviationCountFeature.evaluate-454"><span class="linenos">454</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="StateAbbreviationCountFeature.evaluate-455"><a href="#StateAbbreviationCountFeature.evaluate-455"><span class="linenos">455</span></a>        <span class="n">word</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="StateAbbreviationCountFeature.evaluate-456"><a href="#StateAbbreviationCountFeature.evaluate-456"><span class="linenos">456</span></a>        <span class="n">ws</span><span class="p">:</span> <span class="n">WordStatistics</span><span class="p">,</span>
</span><span id="StateAbbreviationCountFeature.evaluate-457"><a href="#StateAbbreviationCountFeature.evaluate-457"><span class="linenos">457</span></a>        <span class="n">precomputes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">],</span>
</span><span id="StateAbbreviationCountFeature.evaluate-458"><a href="#StateAbbreviationCountFeature.evaluate-458"><span class="linenos">458</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature.evaluate-459"><a href="#StateAbbreviationCountFeature.evaluate-459"><span class="linenos">459</span></a>        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="StateAbbreviationCountFeature.evaluate-460"><a href="#StateAbbreviationCountFeature.evaluate-460"><span class="linenos">460</span></a>        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">STATE_ABBREVIATIONS</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature.evaluate-461"><a href="#StateAbbreviationCountFeature.evaluate-461"><span class="linenos">461</span></a>            <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
</span><span id="StateAbbreviationCountFeature.evaluate-462"><a href="#StateAbbreviationCountFeature.evaluate-462"><span class="linenos">462</span></a>                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="StateAbbreviationCountFeature.evaluate-463"><a href="#StateAbbreviationCountFeature.evaluate-463"><span class="linenos">463</span></a>        <span class="k">return</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_count</span>
</span></pre></div>


            <div class="docstring"><p>Return true iff the word has this feature.</p>
</div>


                            </div>
                </section>
                <section id="ALL_FEATURES">
                    <div class="attr variable">
            <span class="name">ALL_FEATURES</span><span class="annotation">: List[<a href="#WordFeature">WordFeature</a>]</span>        =
<input id="ALL_FEATURES-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="ALL_FEATURES-view-value"></label><span class="default_value">[alternates between vowels and consonants, at least 1 occurrences of O, at least 2 occurrences of O, at least 3 occurrences of O, at least 4 occurrences of O, at least 1 occurrences of B, at least 2 occurrences of B, at least 3 occurrences of B, at least 4 occurrences of B, at least 1 occurrences of I, at least 2 occurrences of I, at least 3 occurrences of I, at least 4 occurrences of I, at least 1 occurrences of M, at least 2 occurrences of M, at least 3 occurrences of M, at least 4 occurrences of M, at least 1 occurrences of W, at least 2 occurrences of W, at least 3 occurrences of W, at least 4 occurrences of W, at least 1 occurrences of Z, at least 2 occurrences of Z, at least 3 occurrences of Z, at least 4 occurrences of Z, at least 1 occurrences of Q, at least 2 occurrences of Q, at least 3 occurrences of Q, at least 4 occurrences of Q, at least 1 occurrences of K, at least 2 occurrences of K, at least 3 occurrences of K, at least 4 occurrences of K, at least 1 occurrences of V, at least 2 occurrences of V, at least 3 occurrences of V, at least 4 occurrences of V, at least 1 occurrences of C, at least 2 occurrences of C, at least 3 occurrences of C, at least 4 occurrences of C, at least 1 occurrences of G, at least 2 occurrences of G, at least 3 occurrences of G, at least 4 occurrences of G, at least 1 occurrences of E, at least 2 occurrences of E, at least 3 occurrences of E, at least 4 occurrences of E, at least 1 occurrences of J, at least 2 occurrences of J, at least 3 occurrences of J, at least 4 occurrences of J, at least 1 occurrences of X, at least 2 occurrences of X, at least 3 occurrences of X, at least 4 occurrences of X, at least 1 occurrences of Y, at least 2 occurrences of Y, at least 3 occurrences of Y, at least 4 occurrences of Y, at least 1 occurrences of T, at least 2 occurrences of T, at least 3 occurrences of T, at least 4 occurrences of T, at least 1 occurrences of D, at least 2 occurrences of D, at least 3 occurrences of D, at least 4 occurrences of D, at least 1 occurrences of H, at least 2 occurrences of H, at least 3 occurrences of H, at least 4 occurrences of H, at least 1 occurrences of P, at least 2 occurrences of P, at least 3 occurrences of P, at least 4 occurrences of P, at least 1 occurrences of A, at least 2 occurrences of A, at least 3 occurrences of A, at least 4 occurrences of A, at least 1 occurrences of L, at least 2 occurrences of L, at least 3 occurrences of L, at least 4 occurrences of L, at least 1 occurrences of U, at least 2 occurrences of U, at least 3 occurrences of U, at least 4 occurrences of U, at least 1 occurrences of S, at least 2 occurrences of S, at least 3 occurrences of S, at least 4 occurrences of S, at least 1 occurrences of F, at least 2 occurrences of F, at least 3 occurrences of F, at least 4 occurrences of F, at least 1 occurrences of N, at least 2 occurrences of N, at least 3 occurrences of N, at least 4 occurrences of N, at least 1 occurrences of R, at least 2 occurrences of R, at least 3 occurrences of R, at least 4 occurrences of R, has at least 1 letters repeated at least 2 times each, has at least 1 letters repeated at least 3 times each, has at least 1 letters repeated at least 4 times each, has at least 2 letters repeated at least 2 times each, has at least 2 letters repeated at least 3 times each, has at least 2 letters repeated at least 4 times each, has at least 3 letters repeated at least 2 times each, has at least 3 letters repeated at least 3 times each, has at least 3 letters repeated at least 4 times each, has at least 4 letters repeated at least 2 times each, has at least 4 letters repeated at least 3 times each, has at least 4 letters repeated at least 4 times each, has at least 5 letters repeated at least 2 times each, has at least 5 letters repeated at least 3 times each, has at least 5 letters repeated at least 4 times each, 1 unique letters, 2 unique letters, 3 unique letters, 4 unique letters, 5 unique letters, 6 unique letters, 7 unique letters, 8 unique letters, 9 unique letters, 10 unique letters, 11 unique letters, 12 unique letters, 13 unique letters, 14 unique letters, 15 unique letters, 16 unique letters, 17 unique letters, 18 unique letters, 19 unique letters, 20 unique letters, 21 unique letters, 22 unique letters, 23 unique letters, 24 unique letters, 25 unique letters, 26 unique letters, 1 unique vowels, 2 unique vowels, 3 unique vowels, 4 unique vowels, 5 unique vowels, 1 unique consonants, 2 unique consonants, 3 unique consonants, 4 unique consonants, 5 unique consonants, 6 unique consonants, 7 unique consonants, 8 unique consonants, 9 unique consonants, 10 unique consonants, 11 unique consonants, 12 unique consonants, 13 unique consonants, 14 unique consonants, 15 unique consonants, 16 unique consonants, 17 unique consonants, 18 unique consonants, 19 unique consonants, 20 unique consonants, 21 unique consonants, 1 pairs of double letters, 2 pairs of double letters, 3 pairs of double letters, at least 1 cardinal directions, at least 2 cardinal directions, at least 3 cardinal directions, at least 4 cardinal directions, at least 5 cardinal directions, at least 1 chemical element symbols, at least 2 chemical element symbols, at least 3 chemical element symbols, at least 4 chemical element symbols, at least 5 chemical element symbols, at least 1 US state abbreviations, at least 2 US state abbreviations, at least 3 US state abbreviations, at least 4 US state abbreviations, at least 5 US state abbreviations]</span>

        
    </div>
    <a class="headerlink" href="#ALL_FEATURES"></a>
    
    

                </section>
                <section id="WordFeatureResult">
                            <input id="WordFeatureResult-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator decorator-dataclass">@dataclass</div>

    <span class="def">class</span>
    <span class="name">WordFeatureResult</span>:

                <label class="view-source-button" for="WordFeatureResult-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeatureResult"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeatureResult-495"><a href="#WordFeatureResult-495"><span class="linenos">495</span></a><span class="nd">@dataclass</span>
</span><span id="WordFeatureResult-496"><a href="#WordFeatureResult-496"><span class="linenos">496</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeatureResult</span><span class="p">:</span>
</span><span id="WordFeatureResult-497"><a href="#WordFeatureResult-497"><span class="linenos">497</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The result of evaluating a word feature on a set of words.&quot;&quot;&quot;</span>
</span><span id="WordFeatureResult-498"><a href="#WordFeatureResult-498"><span class="linenos">498</span></a>
</span><span id="WordFeatureResult-499"><a href="#WordFeatureResult-499"><span class="linenos">499</span></a>    <span class="n">feature</span><span class="p">:</span> <span class="n">WordFeature</span>
</span><span id="WordFeatureResult-500"><a href="#WordFeatureResult-500"><span class="linenos">500</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The word feature that was evaluated.&quot;&quot;&quot;</span>
</span><span id="WordFeatureResult-501"><a href="#WordFeatureResult-501"><span class="linenos">501</span></a>
</span><span id="WordFeatureResult-502"><a href="#WordFeatureResult-502"><span class="linenos">502</span></a>    <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</span><span id="WordFeatureResult-503"><a href="#WordFeatureResult-503"><span class="linenos">503</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The set of words that satisfied this feature.&quot;&quot;&quot;</span>
</span><span id="WordFeatureResult-504"><a href="#WordFeatureResult-504"><span class="linenos">504</span></a>
</span><span id="WordFeatureResult-505"><a href="#WordFeatureResult-505"><span class="linenos">505</span></a>    <span class="n">log_prob</span><span class="p">:</span> <span class="nb">float</span>
</span><span id="WordFeatureResult-506"><a href="#WordFeatureResult-506"><span class="linenos">506</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The log probability of the feature evaluating true for the set of words.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>The result of evaluating a word feature on a set of words.</p>
</div>


                            <div id="WordFeatureResult.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">WordFeatureResult</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">feature</span><span class="p">:</span> <span class="n"><a href="#WordFeature">WordFeature</a></span>,</span><span class="param">	<span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">log_prob</span><span class="p">:</span> <span class="nb">float</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#WordFeatureResult.__init__"></a>
    
    

                            </div>
                            <div id="WordFeatureResult.feature" class="classattr">
                                <div class="attr variable">
            <span class="name">feature</span><span class="annotation">: <a href="#WordFeature">WordFeature</a></span>

        
    </div>
    <a class="headerlink" href="#WordFeatureResult.feature"></a>
    
            <div class="docstring"><p>The word feature that was evaluated.</p>
</div>


                            </div>
                            <div id="WordFeatureResult.words" class="classattr">
                                <div class="attr variable">
            <span class="name">words</span><span class="annotation">: List[str]</span>

        
    </div>
    <a class="headerlink" href="#WordFeatureResult.words"></a>
    
            <div class="docstring"><p>The set of words that satisfied this feature.</p>
</div>


                            </div>
                            <div id="WordFeatureResult.log_prob" class="classattr">
                                <div class="attr variable">
            <span class="name">log_prob</span><span class="annotation">: float</span>

        
    </div>
    <a class="headerlink" href="#WordFeatureResult.log_prob"></a>
    
            <div class="docstring"><p>The log probability of the feature evaluating true for the set of words.</p>
</div>


                            </div>
                </section>
                <section id="WordFeatureStatistics">
                            <input id="WordFeatureStatistics-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">WordFeatureStatistics</span>:

                <label class="view-source-button" for="WordFeatureStatistics-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeatureStatistics"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeatureStatistics-509"><a href="#WordFeatureStatistics-509"><span class="linenos">509</span></a><span class="k">class</span><span class="w"> </span><span class="nc">WordFeatureStatistics</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-510"><a href="#WordFeatureStatistics-510"><span class="linenos">510</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A class for computing statistics about word features.&quot;&quot;&quot;</span>
</span><span id="WordFeatureStatistics-511"><a href="#WordFeatureStatistics-511"><span class="linenos">511</span></a>
</span><span id="WordFeatureStatistics-512"><a href="#WordFeatureStatistics-512"><span class="linenos">512</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ws</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordStatistics</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="WordFeatureStatistics-513"><a href="#WordFeatureStatistics-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a set of word feature statistics based on word frequencies.</span>
</span><span id="WordFeatureStatistics-514"><a href="#WordFeatureStatistics-514"><span class="linenos">514</span></a>
</span><span id="WordFeatureStatistics-515"><a href="#WordFeatureStatistics-515"><span class="linenos">515</span></a><span class="sd">        :param ws: The WordStatistics to use. If None, a new WordStatistics will be</span>
</span><span id="WordFeatureStatistics-516"><a href="#WordFeatureStatistics-516"><span class="linenos">516</span></a><span class="sd">            created.</span>
</span><span id="WordFeatureStatistics-517"><a href="#WordFeatureStatistics-517"><span class="linenos">517</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WordFeatureStatistics-518"><a href="#WordFeatureStatistics-518"><span class="linenos">518</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span> <span class="o">=</span> <span class="n">ws</span> <span class="ow">or</span> <span class="n">WordStatistics</span><span class="p">()</span>
</span><span id="WordFeatureStatistics-519"><a href="#WordFeatureStatistics-519"><span class="linenos">519</span></a>
</span><span id="WordFeatureStatistics-520"><a href="#WordFeatureStatistics-520"><span class="linenos">520</span></a>        <span class="n">feature_log_prob_json_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="WordFeatureStatistics-521"><a href="#WordFeatureStatistics-521"><span class="linenos">521</span></a>            <span class="n">platformdirs</span><span class="o">.</span><span class="n">user_cache_dir</span><span class="p">(</span><span class="n">appname</span><span class="o">=</span><span class="s2">&quot;sputter&quot;</span><span class="p">),</span>
</span><span id="WordFeatureStatistics-522"><a href="#WordFeatureStatistics-522"><span class="linenos">522</span></a>            <span class="s2">&quot;word_feature_log_prob.json&quot;</span><span class="p">,</span>
</span><span id="WordFeatureStatistics-523"><a href="#WordFeatureStatistics-523"><span class="linenos">523</span></a>        <span class="p">)</span>
</span><span id="WordFeatureStatistics-524"><a href="#WordFeatureStatistics-524"><span class="linenos">524</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-525"><a href="#WordFeatureStatistics-525"><span class="linenos">525</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">):</span>
</span><span id="WordFeatureStatistics-526"><a href="#WordFeatureStatistics-526"><span class="linenos">526</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-527"><a href="#WordFeatureStatistics-527"><span class="linenos">527</span></a>                    <span class="n">feature_log_prob_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-528"><a href="#WordFeatureStatistics-528"><span class="linenos">528</span></a>                <span class="k">if</span> <span class="p">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">)</span> <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">}</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span>
</span><span id="WordFeatureStatistics-529"><a href="#WordFeatureStatistics-529"><span class="linenos">529</span></a>                    <span class="n">feature_log_prob_json</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="WordFeatureStatistics-530"><a href="#WordFeatureStatistics-530"><span class="linenos">530</span></a>                <span class="p">):</span>
</span><span id="WordFeatureStatistics-531"><a href="#WordFeatureStatistics-531"><span class="linenos">531</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="WordFeatureStatistics-532"><a href="#WordFeatureStatistics-532"><span class="linenos">532</span></a>                    <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-533"><a href="#WordFeatureStatistics-533"><span class="linenos">533</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="p">[</span><span class="n">ft</span><span class="p">]</span> <span class="o">=</span> <span class="n">feature_log_prob_json</span><span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">)]</span>
</span><span id="WordFeatureStatistics-534"><a href="#WordFeatureStatistics-534"><span class="linenos">534</span></a>                    <span class="k">return</span>
</span><span id="WordFeatureStatistics-535"><a href="#WordFeatureStatistics-535"><span class="linenos">535</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-536"><a href="#WordFeatureStatistics-536"><span class="linenos">536</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read feature log probabilities cache: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-537"><a href="#WordFeatureStatistics-537"><span class="linenos">537</span></a>
</span><span id="WordFeatureStatistics-538"><a href="#WordFeatureStatistics-538"><span class="linenos">538</span></a>        <span class="n">feature_count</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">WordFeature</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-539"><a href="#WordFeatureStatistics-539"><span class="linenos">539</span></a>
</span><span id="WordFeatureStatistics-540"><a href="#WordFeatureStatistics-540"><span class="linenos">540</span></a>        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="o">.</span><span class="n">word_frequencies</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="WordFeatureStatistics-541"><a href="#WordFeatureStatistics-541"><span class="linenos">541</span></a>            <span class="n">precomputes</span> <span class="o">=</span> <span class="n">WordFeaturePrecomputes</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-542"><a href="#WordFeatureStatistics-542"><span class="linenos">542</span></a>            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-543"><a href="#WordFeatureStatistics-543"><span class="linenos">543</span></a>                <span class="k">if</span> <span class="n">feature</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="p">,</span> <span class="n">precomputes</span><span class="p">):</span>
</span><span id="WordFeatureStatistics-544"><a href="#WordFeatureStatistics-544"><span class="linenos">544</span></a>                    <span class="n">feature_count</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span> <span class="o">+=</span> <span class="n">freq</span>
</span><span id="WordFeatureStatistics-545"><a href="#WordFeatureStatistics-545"><span class="linenos">545</span></a>
</span><span id="WordFeatureStatistics-546"><a href="#WordFeatureStatistics-546"><span class="linenos">546</span></a>        <span class="n">word_frequency_total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="o">.</span><span class="n">word_frequency_total</span><span class="p">()</span>
</span><span id="WordFeatureStatistics-547"><a href="#WordFeatureStatistics-547"><span class="linenos">547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="WordFeatureStatistics-548"><a href="#WordFeatureStatistics-548"><span class="linenos">548</span></a>            <span class="n">feature</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">feature_count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span> <span class="o">/</span> <span class="n">word_frequency_total</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-549"><a href="#WordFeatureStatistics-549"><span class="linenos">549</span></a>            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span>
</span><span id="WordFeatureStatistics-550"><a href="#WordFeatureStatistics-550"><span class="linenos">550</span></a>        <span class="p">}</span>
</span><span id="WordFeatureStatistics-551"><a href="#WordFeatureStatistics-551"><span class="linenos">551</span></a>
</span><span id="WordFeatureStatistics-552"><a href="#WordFeatureStatistics-552"><span class="linenos">552</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-553"><a href="#WordFeatureStatistics-553"><span class="linenos">553</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-554"><a href="#WordFeatureStatistics-554"><span class="linenos">554</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-555"><a href="#WordFeatureStatistics-555"><span class="linenos">555</span></a>                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="WordFeatureStatistics-556"><a href="#WordFeatureStatistics-556"><span class="linenos">556</span></a>                    <span class="p">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">):</span> <span class="n">lp</span> <span class="k">for</span> <span class="n">ft</span><span class="p">,</span> <span class="n">lp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span> <span class="n">f</span>
</span><span id="WordFeatureStatistics-557"><a href="#WordFeatureStatistics-557"><span class="linenos">557</span></a>                <span class="p">)</span>
</span><span id="WordFeatureStatistics-558"><a href="#WordFeatureStatistics-558"><span class="linenos">558</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-559"><a href="#WordFeatureStatistics-559"><span class="linenos">559</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to cache feature log probabilities: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-560"><a href="#WordFeatureStatistics-560"><span class="linenos">560</span></a>
</span><span id="WordFeatureStatistics-561"><a href="#WordFeatureStatistics-561"><span class="linenos">561</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate_words</span><span class="p">(</span>
</span><span id="WordFeatureStatistics-562"><a href="#WordFeatureStatistics-562"><span class="linenos">562</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">top_n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="WordFeatureStatistics-563"><a href="#WordFeatureStatistics-563"><span class="linenos">563</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">WordFeatureResult</span><span class="p">]:</span>
</span><span id="WordFeatureStatistics-564"><a href="#WordFeatureStatistics-564"><span class="linenos">564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluate a set of words against all word features.</span>
</span><span id="WordFeatureStatistics-565"><a href="#WordFeatureStatistics-565"><span class="linenos">565</span></a>
</span><span id="WordFeatureStatistics-566"><a href="#WordFeatureStatistics-566"><span class="linenos">566</span></a><span class="sd">        :param words: The words to evaluate.</span>
</span><span id="WordFeatureStatistics-567"><a href="#WordFeatureStatistics-567"><span class="linenos">567</span></a><span class="sd">        :param top_n: The number of top results to return. If None, all results will be</span>
</span><span id="WordFeatureStatistics-568"><a href="#WordFeatureStatistics-568"><span class="linenos">568</span></a><span class="sd">            returned.</span>
</span><span id="WordFeatureStatistics-569"><a href="#WordFeatureStatistics-569"><span class="linenos">569</span></a>
</span><span id="WordFeatureStatistics-570"><a href="#WordFeatureStatistics-570"><span class="linenos">570</span></a><span class="sd">        :return: A list of WordFeatureResults, one for each word feature. The list is</span>
</span><span id="WordFeatureStatistics-571"><a href="#WordFeatureStatistics-571"><span class="linenos">571</span></a><span class="sd">            sorted by log probability, from least likely to most likely.</span>
</span><span id="WordFeatureStatistics-572"><a href="#WordFeatureStatistics-572"><span class="linenos">572</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WordFeatureStatistics-573"><a href="#WordFeatureStatistics-573"><span class="linenos">573</span></a>        <span class="n">precomputes</span> <span class="o">=</span> <span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
</span><span id="WordFeatureStatistics-574"><a href="#WordFeatureStatistics-574"><span class="linenos">574</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="WordFeatureStatistics-575"><a href="#WordFeatureStatistics-575"><span class="linenos">575</span></a>        <span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">feature_log_prob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="WordFeatureStatistics-576"><a href="#WordFeatureStatistics-576"><span class="linenos">576</span></a>            <span class="n">evals</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WordFeatureStatistics-577"><a href="#WordFeatureStatistics-577"><span class="linenos">577</span></a>                <span class="n">feature</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="p">,</span> <span class="n">precompute</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-578"><a href="#WordFeatureStatistics-578"><span class="linenos">578</span></a>                <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">precompute</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">precomputes</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-579"><a href="#WordFeatureStatistics-579"><span class="linenos">579</span></a>            <span class="p">]</span>
</span><span id="WordFeatureStatistics-580"><a href="#WordFeatureStatistics-580"><span class="linenos">580</span></a>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">evals</span><span class="p">):</span>
</span><span id="WordFeatureStatistics-581"><a href="#WordFeatureStatistics-581"><span class="linenos">581</span></a>                <span class="n">satisfied_words</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WordFeatureStatistics-582"><a href="#WordFeatureStatistics-582"><span class="linenos">582</span></a>                    <span class="n">word</span> <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">evals</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span>
</span><span id="WordFeatureStatistics-583"><a href="#WordFeatureStatistics-583"><span class="linenos">583</span></a>                <span class="p">]</span>
</span><span id="WordFeatureStatistics-584"><a href="#WordFeatureStatistics-584"><span class="linenos">584</span></a>                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="WordFeatureStatistics-585"><a href="#WordFeatureStatistics-585"><span class="linenos">585</span></a>                    <span class="n">WordFeatureResult</span><span class="p">(</span>
</span><span id="WordFeatureStatistics-586"><a href="#WordFeatureStatistics-586"><span class="linenos">586</span></a>                        <span class="n">feature</span><span class="p">,</span>
</span><span id="WordFeatureStatistics-587"><a href="#WordFeatureStatistics-587"><span class="linenos">587</span></a>                        <span class="n">satisfied_words</span><span class="p">,</span>
</span><span id="WordFeatureStatistics-588"><a href="#WordFeatureStatistics-588"><span class="linenos">588</span></a>                        <span class="n">feature_log_prob</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">satisfied_words</span><span class="p">),</span>
</span><span id="WordFeatureStatistics-589"><a href="#WordFeatureStatistics-589"><span class="linenos">589</span></a>                    <span class="p">)</span>
</span><span id="WordFeatureStatistics-590"><a href="#WordFeatureStatistics-590"><span class="linenos">590</span></a>                <span class="p">)</span>
</span><span id="WordFeatureStatistics-591"><a href="#WordFeatureStatistics-591"><span class="linenos">591</span></a>        <span class="n">results</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">result</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">log_prob</span><span class="p">)</span>
</span><span id="WordFeatureStatistics-592"><a href="#WordFeatureStatistics-592"><span class="linenos">592</span></a>        <span class="k">if</span> <span class="n">top_n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="WordFeatureStatistics-593"><a href="#WordFeatureStatistics-593"><span class="linenos">593</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:</span><span class="n">top_n</span><span class="p">]</span>
</span><span id="WordFeatureStatistics-594"><a href="#WordFeatureStatistics-594"><span class="linenos">594</span></a>        <span class="k">return</span> <span class="n">results</span>
</span></pre></div>


            <div class="docstring"><p>A class for computing statistics about word features.</p>
</div>


                            <div id="WordFeatureStatistics.__init__" class="classattr">
                                        <input id="WordFeatureStatistics.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">WordFeatureStatistics</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">ws</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="fitness.html#WordStatistics">sputter.fitness.WordStatistics</a></span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="WordFeatureStatistics.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeatureStatistics.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeatureStatistics.__init__-512"><a href="#WordFeatureStatistics.__init__-512"><span class="linenos">512</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ws</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">WordStatistics</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="WordFeatureStatistics.__init__-513"><a href="#WordFeatureStatistics.__init__-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize a set of word feature statistics based on word frequencies.</span>
</span><span id="WordFeatureStatistics.__init__-514"><a href="#WordFeatureStatistics.__init__-514"><span class="linenos">514</span></a>
</span><span id="WordFeatureStatistics.__init__-515"><a href="#WordFeatureStatistics.__init__-515"><span class="linenos">515</span></a><span class="sd">        :param ws: The WordStatistics to use. If None, a new WordStatistics will be</span>
</span><span id="WordFeatureStatistics.__init__-516"><a href="#WordFeatureStatistics.__init__-516"><span class="linenos">516</span></a><span class="sd">            created.</span>
</span><span id="WordFeatureStatistics.__init__-517"><a href="#WordFeatureStatistics.__init__-517"><span class="linenos">517</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WordFeatureStatistics.__init__-518"><a href="#WordFeatureStatistics.__init__-518"><span class="linenos">518</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span> <span class="o">=</span> <span class="n">ws</span> <span class="ow">or</span> <span class="n">WordStatistics</span><span class="p">()</span>
</span><span id="WordFeatureStatistics.__init__-519"><a href="#WordFeatureStatistics.__init__-519"><span class="linenos">519</span></a>
</span><span id="WordFeatureStatistics.__init__-520"><a href="#WordFeatureStatistics.__init__-520"><span class="linenos">520</span></a>        <span class="n">feature_log_prob_json_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
</span><span id="WordFeatureStatistics.__init__-521"><a href="#WordFeatureStatistics.__init__-521"><span class="linenos">521</span></a>            <span class="n">platformdirs</span><span class="o">.</span><span class="n">user_cache_dir</span><span class="p">(</span><span class="n">appname</span><span class="o">=</span><span class="s2">&quot;sputter&quot;</span><span class="p">),</span>
</span><span id="WordFeatureStatistics.__init__-522"><a href="#WordFeatureStatistics.__init__-522"><span class="linenos">522</span></a>            <span class="s2">&quot;word_feature_log_prob.json&quot;</span><span class="p">,</span>
</span><span id="WordFeatureStatistics.__init__-523"><a href="#WordFeatureStatistics.__init__-523"><span class="linenos">523</span></a>        <span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-524"><a href="#WordFeatureStatistics.__init__-524"><span class="linenos">524</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-525"><a href="#WordFeatureStatistics.__init__-525"><span class="linenos">525</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">):</span>
</span><span id="WordFeatureStatistics.__init__-526"><a href="#WordFeatureStatistics.__init__-526"><span class="linenos">526</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-527"><a href="#WordFeatureStatistics.__init__-527"><span class="linenos">527</span></a>                    <span class="n">feature_log_prob_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-528"><a href="#WordFeatureStatistics.__init__-528"><span class="linenos">528</span></a>                <span class="k">if</span> <span class="p">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">)</span> <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">}</span> <span class="o">==</span> <span class="nb">set</span><span class="p">(</span>
</span><span id="WordFeatureStatistics.__init__-529"><a href="#WordFeatureStatistics.__init__-529"><span class="linenos">529</span></a>                    <span class="n">feature_log_prob_json</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</span><span id="WordFeatureStatistics.__init__-530"><a href="#WordFeatureStatistics.__init__-530"><span class="linenos">530</span></a>                <span class="p">):</span>
</span><span id="WordFeatureStatistics.__init__-531"><a href="#WordFeatureStatistics.__init__-531"><span class="linenos">531</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="WordFeatureStatistics.__init__-532"><a href="#WordFeatureStatistics.__init__-532"><span class="linenos">532</span></a>                    <span class="k">for</span> <span class="n">ft</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-533"><a href="#WordFeatureStatistics.__init__-533"><span class="linenos">533</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="p">[</span><span class="n">ft</span><span class="p">]</span> <span class="o">=</span> <span class="n">feature_log_prob_json</span><span class="p">[</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">)]</span>
</span><span id="WordFeatureStatistics.__init__-534"><a href="#WordFeatureStatistics.__init__-534"><span class="linenos">534</span></a>                    <span class="k">return</span>
</span><span id="WordFeatureStatistics.__init__-535"><a href="#WordFeatureStatistics.__init__-535"><span class="linenos">535</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-536"><a href="#WordFeatureStatistics.__init__-536"><span class="linenos">536</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read feature log probabilities cache: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-537"><a href="#WordFeatureStatistics.__init__-537"><span class="linenos">537</span></a>
</span><span id="WordFeatureStatistics.__init__-538"><a href="#WordFeatureStatistics.__init__-538"><span class="linenos">538</span></a>        <span class="n">feature_count</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">WordFeature</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-539"><a href="#WordFeatureStatistics.__init__-539"><span class="linenos">539</span></a>
</span><span id="WordFeatureStatistics.__init__-540"><a href="#WordFeatureStatistics.__init__-540"><span class="linenos">540</span></a>        <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">freq</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="o">.</span><span class="n">word_frequencies</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="WordFeatureStatistics.__init__-541"><a href="#WordFeatureStatistics.__init__-541"><span class="linenos">541</span></a>            <span class="n">precomputes</span> <span class="o">=</span> <span class="n">WordFeaturePrecomputes</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-542"><a href="#WordFeatureStatistics.__init__-542"><span class="linenos">542</span></a>            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-543"><a href="#WordFeatureStatistics.__init__-543"><span class="linenos">543</span></a>                <span class="k">if</span> <span class="n">feature</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="p">,</span> <span class="n">precomputes</span><span class="p">):</span>
</span><span id="WordFeatureStatistics.__init__-544"><a href="#WordFeatureStatistics.__init__-544"><span class="linenos">544</span></a>                    <span class="n">feature_count</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span> <span class="o">+=</span> <span class="n">freq</span>
</span><span id="WordFeatureStatistics.__init__-545"><a href="#WordFeatureStatistics.__init__-545"><span class="linenos">545</span></a>
</span><span id="WordFeatureStatistics.__init__-546"><a href="#WordFeatureStatistics.__init__-546"><span class="linenos">546</span></a>        <span class="n">word_frequency_total</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="o">.</span><span class="n">word_frequency_total</span><span class="p">()</span>
</span><span id="WordFeatureStatistics.__init__-547"><a href="#WordFeatureStatistics.__init__-547"><span class="linenos">547</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="WordFeatureStatistics.__init__-548"><a href="#WordFeatureStatistics.__init__-548"><span class="linenos">548</span></a>            <span class="n">feature</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">feature_count</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">)</span> <span class="o">/</span> <span class="n">word_frequency_total</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-549"><a href="#WordFeatureStatistics.__init__-549"><span class="linenos">549</span></a>            <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">ALL_FEATURES</span>
</span><span id="WordFeatureStatistics.__init__-550"><a href="#WordFeatureStatistics.__init__-550"><span class="linenos">550</span></a>        <span class="p">}</span>
</span><span id="WordFeatureStatistics.__init__-551"><a href="#WordFeatureStatistics.__init__-551"><span class="linenos">551</span></a>
</span><span id="WordFeatureStatistics.__init__-552"><a href="#WordFeatureStatistics.__init__-552"><span class="linenos">552</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-553"><a href="#WordFeatureStatistics.__init__-553"><span class="linenos">553</span></a>            <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">),</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-554"><a href="#WordFeatureStatistics.__init__-554"><span class="linenos">554</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">feature_log_prob_json_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-555"><a href="#WordFeatureStatistics.__init__-555"><span class="linenos">555</span></a>                <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="WordFeatureStatistics.__init__-556"><a href="#WordFeatureStatistics.__init__-556"><span class="linenos">556</span></a>                    <span class="p">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ft</span><span class="p">):</span> <span class="n">lp</span> <span class="k">for</span> <span class="n">ft</span><span class="p">,</span> <span class="n">lp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="o">.</span><span class="n">items</span><span class="p">()},</span> <span class="n">f</span>
</span><span id="WordFeatureStatistics.__init__-557"><a href="#WordFeatureStatistics.__init__-557"><span class="linenos">557</span></a>                <span class="p">)</span>
</span><span id="WordFeatureStatistics.__init__-558"><a href="#WordFeatureStatistics.__init__-558"><span class="linenos">558</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.__init__-559"><a href="#WordFeatureStatistics.__init__-559"><span class="linenos">559</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to cache feature log probabilities: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Initialize a set of word feature statistics based on word frequencies.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>ws</strong>:  The WordStatistics to use. If None, a new WordStatistics will be
created.</li>
</ul>
</div>


                            </div>
                            <div id="WordFeatureStatistics.evaluate_words" class="classattr">
                                        <input id="WordFeatureStatistics.evaluate_words-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">evaluate_words</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">top_n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span></span><span class="return-annotation">) -> <span class="n">List</span><span class="p">[</span><span class="n"><a href="#WordFeatureResult">WordFeatureResult</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="WordFeatureStatistics.evaluate_words-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#WordFeatureStatistics.evaluate_words"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="WordFeatureStatistics.evaluate_words-561"><a href="#WordFeatureStatistics.evaluate_words-561"><span class="linenos">561</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">evaluate_words</span><span class="p">(</span>
</span><span id="WordFeatureStatistics.evaluate_words-562"><a href="#WordFeatureStatistics.evaluate_words-562"><span class="linenos">562</span></a>        <span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">top_n</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
</span><span id="WordFeatureStatistics.evaluate_words-563"><a href="#WordFeatureStatistics.evaluate_words-563"><span class="linenos">563</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">WordFeatureResult</span><span class="p">]:</span>
</span><span id="WordFeatureStatistics.evaluate_words-564"><a href="#WordFeatureStatistics.evaluate_words-564"><span class="linenos">564</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Evaluate a set of words against all word features.</span>
</span><span id="WordFeatureStatistics.evaluate_words-565"><a href="#WordFeatureStatistics.evaluate_words-565"><span class="linenos">565</span></a>
</span><span id="WordFeatureStatistics.evaluate_words-566"><a href="#WordFeatureStatistics.evaluate_words-566"><span class="linenos">566</span></a><span class="sd">        :param words: The words to evaluate.</span>
</span><span id="WordFeatureStatistics.evaluate_words-567"><a href="#WordFeatureStatistics.evaluate_words-567"><span class="linenos">567</span></a><span class="sd">        :param top_n: The number of top results to return. If None, all results will be</span>
</span><span id="WordFeatureStatistics.evaluate_words-568"><a href="#WordFeatureStatistics.evaluate_words-568"><span class="linenos">568</span></a><span class="sd">            returned.</span>
</span><span id="WordFeatureStatistics.evaluate_words-569"><a href="#WordFeatureStatistics.evaluate_words-569"><span class="linenos">569</span></a>
</span><span id="WordFeatureStatistics.evaluate_words-570"><a href="#WordFeatureStatistics.evaluate_words-570"><span class="linenos">570</span></a><span class="sd">        :return: A list of WordFeatureResults, one for each word feature. The list is</span>
</span><span id="WordFeatureStatistics.evaluate_words-571"><a href="#WordFeatureStatistics.evaluate_words-571"><span class="linenos">571</span></a><span class="sd">            sorted by log probability, from least likely to most likely.</span>
</span><span id="WordFeatureStatistics.evaluate_words-572"><a href="#WordFeatureStatistics.evaluate_words-572"><span class="linenos">572</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="WordFeatureStatistics.evaluate_words-573"><a href="#WordFeatureStatistics.evaluate_words-573"><span class="linenos">573</span></a>        <span class="n">precomputes</span> <span class="o">=</span> <span class="p">[</span><span class="n">WordFeaturePrecomputes</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
</span><span id="WordFeatureStatistics.evaluate_words-574"><a href="#WordFeatureStatistics.evaluate_words-574"><span class="linenos">574</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="WordFeatureStatistics.evaluate_words-575"><a href="#WordFeatureStatistics.evaluate_words-575"><span class="linenos">575</span></a>        <span class="k">for</span> <span class="n">feature</span><span class="p">,</span> <span class="n">feature_log_prob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_feature_log_prob</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="WordFeatureStatistics.evaluate_words-576"><a href="#WordFeatureStatistics.evaluate_words-576"><span class="linenos">576</span></a>            <span class="n">evals</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WordFeatureStatistics.evaluate_words-577"><a href="#WordFeatureStatistics.evaluate_words-577"><span class="linenos">577</span></a>                <span class="n">feature</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ws</span><span class="p">,</span> <span class="n">precompute</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.evaluate_words-578"><a href="#WordFeatureStatistics.evaluate_words-578"><span class="linenos">578</span></a>                <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">precompute</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">precomputes</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.evaluate_words-579"><a href="#WordFeatureStatistics.evaluate_words-579"><span class="linenos">579</span></a>            <span class="p">]</span>
</span><span id="WordFeatureStatistics.evaluate_words-580"><a href="#WordFeatureStatistics.evaluate_words-580"><span class="linenos">580</span></a>            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">evals</span><span class="p">):</span>
</span><span id="WordFeatureStatistics.evaluate_words-581"><a href="#WordFeatureStatistics.evaluate_words-581"><span class="linenos">581</span></a>                <span class="n">satisfied_words</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="WordFeatureStatistics.evaluate_words-582"><a href="#WordFeatureStatistics.evaluate_words-582"><span class="linenos">582</span></a>                    <span class="n">word</span> <span class="k">for</span> <span class="n">word</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">evals</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">e</span>
</span><span id="WordFeatureStatistics.evaluate_words-583"><a href="#WordFeatureStatistics.evaluate_words-583"><span class="linenos">583</span></a>                <span class="p">]</span>
</span><span id="WordFeatureStatistics.evaluate_words-584"><a href="#WordFeatureStatistics.evaluate_words-584"><span class="linenos">584</span></a>                <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span><span id="WordFeatureStatistics.evaluate_words-585"><a href="#WordFeatureStatistics.evaluate_words-585"><span class="linenos">585</span></a>                    <span class="n">WordFeatureResult</span><span class="p">(</span>
</span><span id="WordFeatureStatistics.evaluate_words-586"><a href="#WordFeatureStatistics.evaluate_words-586"><span class="linenos">586</span></a>                        <span class="n">feature</span><span class="p">,</span>
</span><span id="WordFeatureStatistics.evaluate_words-587"><a href="#WordFeatureStatistics.evaluate_words-587"><span class="linenos">587</span></a>                        <span class="n">satisfied_words</span><span class="p">,</span>
</span><span id="WordFeatureStatistics.evaluate_words-588"><a href="#WordFeatureStatistics.evaluate_words-588"><span class="linenos">588</span></a>                        <span class="n">feature_log_prob</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">satisfied_words</span><span class="p">),</span>
</span><span id="WordFeatureStatistics.evaluate_words-589"><a href="#WordFeatureStatistics.evaluate_words-589"><span class="linenos">589</span></a>                    <span class="p">)</span>
</span><span id="WordFeatureStatistics.evaluate_words-590"><a href="#WordFeatureStatistics.evaluate_words-590"><span class="linenos">590</span></a>                <span class="p">)</span>
</span><span id="WordFeatureStatistics.evaluate_words-591"><a href="#WordFeatureStatistics.evaluate_words-591"><span class="linenos">591</span></a>        <span class="n">results</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">result</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">log_prob</span><span class="p">)</span>
</span><span id="WordFeatureStatistics.evaluate_words-592"><a href="#WordFeatureStatistics.evaluate_words-592"><span class="linenos">592</span></a>        <span class="k">if</span> <span class="n">top_n</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="WordFeatureStatistics.evaluate_words-593"><a href="#WordFeatureStatistics.evaluate_words-593"><span class="linenos">593</span></a>            <span class="n">results</span> <span class="o">=</span> <span class="n">results</span><span class="p">[:</span><span class="n">top_n</span><span class="p">]</span>
</span><span id="WordFeatureStatistics.evaluate_words-594"><a href="#WordFeatureStatistics.evaluate_words-594"><span class="linenos">594</span></a>        <span class="k">return</span> <span class="n">results</span>
</span></pre></div>


            <div class="docstring"><p>Evaluate a set of words against all word features.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>words</strong>:  The words to evaluate.</li>
<li><strong>top_n</strong>:  The number of top results to return. If None, all results will be
returned.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A list of WordFeatureResults, one for each word feature. The list is
      sorted by log probability, from least likely to most likely.</p>
</blockquote>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>